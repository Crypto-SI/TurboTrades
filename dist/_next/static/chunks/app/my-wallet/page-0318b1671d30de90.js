(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9551],{49098:function(e,t,a){Promise.resolve().then(a.bind(a,34482))},34482:function(e,t,a){"use strict";a.r(t);var s=a(3827),r=a(64090),l=a(20703),n=a(37948),i=a(31355),o=a(78757),c=a(22602),d=a(47907),u=a(50772),m=a(50568),h=a(2664),f=a(34294),x=a(24118),p=a(9683),g=a(88691);t.default=()=>{let[e]=(0,o.useAtom)(m.UZ),[t]=(0,o.useAtom)(m.Uk),[a]=(0,o.useAtom)(m.xc),[,w]=(0,o.useAtom)(m.Bq),[b]=(0,o.useAtom)(m.WA),[v]=(0,o.useAtom)(m.pT),[y,j]=r.useState(""),[k,N]=r.useState(!1),[E,T]=r.useState(!1),{getBalances:A}=(0,h.Z)(),{getBalancesWithXDefi:H}=(0,f.Z)(),{getBalanceWithMetamask:C}=(0,x.Z)(),S=b.filter(e=>e.selected).map(e=>e),_=(0,d.useRouter)(),Z=async()=>{try{if(E)throw"already refreshed...";T(!0),(null==a?void 0:a.name)==="Keystore"?await A():(null==a?void 0:a.name)==="XDEFI"?await H():(null==a?void 0:a.name)==="Metamask"&&await C()}catch(e){console.log(e)}finally{T(!1)}},O=e=>{j(e),N(!0)},P=(t,a)=>(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("div",{className:"dark:bg-[#1f242ea1] bg-[#1f242e21] p-2 px-4 flex gap-2 md:gap-4 items-center text-[13px]",children:[(0,s.jsxs)("span",{children:[a+1+"","."]}),e[t.label]&&(0,s.jsx)(i.u,{content:"Connected with ".concat(e[t.label].walletType),style:"dark",children:(0,s.jsx)(l.default,{className:"cursor-pointer rounded-full",src:"/images/".concat(e[t.label].walletType,".svg"),width:18,height:18,alt:"refresh",priority:!0})}),(0,s.jsx)(i.u,{content:t.name,style:"dark",children:(0,s.jsx)(l.default,{className:"cursor-pointer rounded-full",src:t.image,width:18,height:18,alt:"refresh",priority:!0})}),(0,s.jsx)("span",{children:t.label}),e[t.label]?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:e[t.label]&&(0,u.Hp)(e[t.label].address)}),(0,s.jsx)(i.u,{content:"Copy address",style:"dark",children:(0,s.jsx)(g.Z,{size:22,text:e[t.label].address})}),(0,s.jsx)(i.u,{content:"Show QR code",style:"dark",children:(0,s.jsx)(n.JO,{onClick:()=>O(e[t.label]?e[t.label].address:"0x00000000000000"),icon:"grommet-icons:qr",className:"cursor-pointer hover:opacity-50",width:20})}),(0,s.jsx)(i.u,{content:"Go to chain",style:"dark",children:(0,s.jsx)(n.JO,{className:"cursor-pointer",icon:"fluent:open-16-filled",onClick:()=>window.open("".concat(p.KL[t.label].explorer,"/address/").concat(e[t.label].address)),width:22})})]}):(0,s.jsx)("div",{className:"h-6 bg-gray-300 dark:bg-[#000000] grow mr-[40%] rounded-full animate-pulse"})]}),e[t.label]?e[t.label].balance.map((e,t)=>{var a;return(0,s.jsxs)("div",{className:"justify-between border-b dark:border-[#2B2E41] border-[#DCE4EF] w-full pl-7 py-3 pr-4 flex items-center dark:text-[#A6A9B9] text-[#A6A9B9]",children:[(0,s.jsxs)("div",{className:"flex items-center md:gap-4 gap-2",children:[(0,s.jsx)(l.default,{src:p._G[String(null==e?void 0:e.asset)]?p._G[String(null==e?void 0:e.asset)].image:"",width:38,height:38,alt:"refresh",priority:!0,className:"rounded-full ".concat((null==e?void 0:null===(a=e.asset)||void 0===a?void 0:a.includes("/"))&&"border-[3px] border-white")}),(0,s.jsx)("span",{children:p._G[String(null==e?void 0:e.asset)]&&p._G[String(null==e?void 0:e.asset)].ticker}),(0,s.jsxs)("span",{children:[(0,u.Lg)(e.amount),"\xa0\xa0( ",(0,u.Lg)(Number(e.amount)*Number(e.value)),"$ )"]})]}),(0,s.jsx)("button",{className:"bg-[#1f242e11] dark:bg-[#1f242ea1] rounded-xl p-3 hover:opacity-50",children:(0,s.jsx)(n.JO,{icon:"fa:send",width:16})})]},"balance_"+t)}):(0,s.jsx)("div",{className:"h-10 bg-gray-300 dark:bg-[#171A23] w-grow m-4 rounded-full animate-pulse"})]},"my_wallet_"+a);return(0,s.jsxs)("div",{className:"flex-grow flex justify-center items-center",children:[(0,s.jsxs)("div",{className:"".concat(!k&&"hidden"),children:[(0,s.jsx)("div",{onClick:()=>{N(!1)},className:"fixed top-0 left-0 right-0 bottom-0 bg-[#0000003d] z-10 backdrop-filter backdrop-blur-[10px]"}),(0,s.jsxs)("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white p-5 rounded-xl z-20",children:[(0,s.jsx)(c.ZP,{value:y}),(0,s.jsx)("span",{className:"absolute t-full left-1/2 -translate-x-1/2 mt-7 dark:text-white text-sm",children:y}),(0,s.jsx)(l.default,{src:"/favicon.svg",width:45,height:45,alt:"logo",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]})]}),(0,s.jsx)("div",{className:"rounded-2xl p-[1px] bg-gradient-to-tr from-[#ff6a0096] via-[#6d78b280] to-[#e02d6f86] mt-10 md:mt-0 w-full md:w-[calc(100vw-360px)] lg:w-[680px]",children:(0,s.jsxs)("div",{className:"rounded-2xl px-5 py-6 bg-white dark:bg-[#0A0C0F] dark:text-white",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-lg",children:"My Wallet"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.default,{src:"/images/refresh.svg",width:38,height:38,alt:"refresh",priority:!0,className:"cursor-pointer hover:opacity-50 ".concat((E||t)&&"spin"),onClick:Z}),(0,s.jsx)(l.default,{src:"/images/add.svg",width:38,height:38,alt:"refresh",className:"cursor-pointer hover:opacity-50",onClick:()=>{w(""),_.push("/connect-wallet")},priority:!0})]})]}),v&&S.map((e,t)=>P(e,t))]})})]})}},88691:function(e,t,a){"use strict";var s=a(3827),r=a(64090),l=a(37948),n=a(50772);t.Z=e=>{let{text:t,size:a}=e,[i,o]=r.useState(!1);return i?(0,s.jsx)(l.JO,{icon:"entypo:check",width:a,className:"cursor-pointer hover:opacity-75"}):(0,s.jsx)(l.JO,{onClick:()=>{try{(0,n.vQ)(t),o(!0),setTimeout(()=>{o(!1)},500)}catch(e){}},icon:"akar-icons:copy",width:a,className:"cursor-pointer hover:opacity-75"})}},83825:function(e,t,a){"use strict";a.d(t,{w:function(){return w},Z:function(){return b}});var s=a(3827),r=a(64090),l=a(78757),n=a(52805),i=a(8400),o=a(7908);let c=new(a(26559))._k;var d=a(26981),u=a(47907),m=a(67248),h=a(50568),f=a(9683),x=a(9964),p=a(82242),g=a(19449);let w=r.createContext(void 0);var b=e=>{let{children:t}=e;(0,u.useRouter)();let{showNotification:a}=(0,m.Z)(),{account:b,library:v,chainId:y,activate:j,deactivate:k}=(0,d.Ge)(),[N]=(0,l.useAtom)(h.WA),[E]=(0,l.useAtom)(h.ab),[T]=(0,l.useAtom)(h.z3),[,A]=(0,l.useAtom)(h.pT),[,H]=(0,l.useAtom)(h.Uk),[,C]=(0,l.useAtom)(h.ic),[,S]=(0,l.useAtom)(h.AC),[_,Z]=(0,l.useAtom)(h.UZ);N.filter(e=>e.selected).map(e=>e.label);let O=async()=>{if(b)try{H(!0),Z({}),1!==y&&await P();let e=await (0,p.yC)();console.log("@dew1204/fetching start chain balances----------------->");let t=await Promise.all(Object.keys(f.tN).map(async t=>{try{if("ETH"===t){let t=await v.getSigner().provider.getBalance(b);return{address:b,chain:"ETH",value:e["ETH.ETH"],asset:"ETH.ETH",amount:String(n.formatEther(t))}}{let a=new i.CH(f.tN[t],x,v.getSigner()),s=await a.balanceOf(b),r="ETH."+t;return{address:b,symbol:t,chain:"ETH",asset:r,value:e[r],amount:String(Number(s)/10**f.jk[t])}}}catch(t){return console.log(t),{account:b,asset:"ETH.ETH",value:e["ETH.ETH"],amount:"0"}}})),a={address:b,balance:t,walletType:"METAMASK",chain:"ETH"};Z({ETH:a}),console.log("@dew1204/metamask balances -------------->",a)}catch(e){console.log(e)}finally{H(!1)}};r.useEffect(()=>{b&&O()},[b]);let P=()=>new Promise(async(e,t)=>{if(window.ethereum)try{await ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]}),e("")}catch(e){console.error(e),t("")}}),G=async e=>{try{if(!E)throw"Can't find quoteSwap";let{data:t}=await o.Z.get("https://mayanode.mayachain.info/mayachain/inbound_addresses"),a=t.find(e=>"ETH"===e.chain);if(!a)throw"Inbound address is none.";if(a.address!==(null==E?void 0:E.inbound_address))throw"Invalid Inbound Address";let s=v.getSigner();if((null==T?void 0:T.ticker)==="ETH"){let t=await (0,g.wU)(e,_.ETH.address,E,s);return console.log("@ETH metamask transaction ----------------------------->",t),Promise.resolve(t.hash)}{let t=await (0,g.u8)(e,_.ETH.address,E.memo,E.inbound_address,s,String(null==T?void 0:T.ticker));return console.log("@ETH metamask transaction ----------------------------->",t),Promise.resolve(t.hash)}}catch(e){return console.log(e),a(String(e),"warning"),Promise.reject(String(e))}};return(0,s.jsx)(w.Provider,{value:{connectToMetamask:()=>new Promise(async(e,t)=>{try{A(!1),await j(c,async e=>{console.log(e.message),t("Cancel the operation...")}),window.localStorage.setItem("lastWallet","Metamask"),A(!0),e("")}catch(e){return a(String(e),"wanrning"),t()}}),getBalanceWithMetamask:O,doMetamaskSwap:G},children:t})}},24118:function(e,t,a){"use strict";var s=a(64090),r=a(83825);t.Z=()=>{let e=s.useContext(r.w);if(e)return e;throw"can't read context"}},2664:function(e,t,a){"use strict";var s=a(64090),r=a(82242);t.Z=()=>{let e=s.useContext(r.T4);if(e)return e;throw"can't read context"}}},function(e){e.O(0,[2420,9982,5501,9991,3860,4716,3193,2133,9376,313,2105,4350,8218,9751,4276,5457,9228,8933,3611,7948,703,7908,8757,2897,4154,2567,2970,2971,8069,1744],function(){return e(e.s=49098)}),_N_E=e.O()}]);
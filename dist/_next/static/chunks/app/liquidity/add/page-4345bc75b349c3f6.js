(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9255],{4409:function(e,t,s){Promise.resolve().then(s.bind(s,71423))},71423:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(3827),r=s(64090),i=s(20703),n=s(37948),l=s(31355),c=s(78757),o=s(7908),d=s(50568),x=s(9683),u=s(43726),m=s(50772),h=e=>{let{onOK:t,onCancel:s,pool:r,mode:l,amount:o}=e,[x]=(0,c.useAtom)(d.a7);return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{onClick:s,className:"fixed top-0 left-0 right-0 bottom-0 bg-[#0000003d] z-10 backdrop-filter backdrop-blur-[10px]"}),(0,a.jsxs)("div",{className:"fixed w-full px-3 sm:w-[500px] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20",children:[(0,a.jsxs)("div",{className:"relative dark:text-white px-10 py-6 text-center dark:bg-[#232E42] bg-white w-full rounded-2xl",children:[(0,a.jsxs)("div",{className:"text-left w-full",children:[(0,a.jsxs)("div",{className:"text-left w-full mt-2 text-sm",children:["Do you agree to add Liquidity with ",(0,a.jsx)("span",{className:"font-bold text-[1rem] text-amber-200",children:(0,m.Lg)(o)}),r.ticker,l===u.I.SYM&&(0,a.jsxs)(a.Fragment,{children:[" & ",(0,a.jsx)("span",{className:"font-bold text-[1rem] text-amber-200",children:(0,m.Lg)(Number(o)*Number(null==r?void 0:r.assetPrice))}),"CACAO"]})," ?"]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center py-2 mt-2",children:[(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(i.default,{src:r?String(r.image):"/images/tokens/cacao.png",width:35,height:35,alt:"sun",className:"rounded-full",priority:!0}),(0,a.jsx)("span",{children:null==r?void 0:r.ticker})]}),"/",(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(i.default,{src:"/images/tokens/cacao.png",width:35,height:35,alt:"sun",priority:!0,className:"rounded-full"}),(0,a.jsx)("span",{children:"CACAO"})]})]})]}),(0,a.jsx)("div",{className:"text-sm mr-2 mb-3 text-left",children:"( Please make sure you have sufficient swap fee )"}),l===u.I.SYM&&Number(o)>0&&(0,a.jsxs)("div",{className:"px-1 text-left flex justify-between mb-1 text-sm",children:[(0,a.jsx)("span",{children:"CACAO Fee"}),(0,a.jsxs)("div",{className:"text-right",children:["($",(0,m.Lg)(.5*Number(x["MAYA.CACAO"])),") 0.50 CACAO"]})]}),(0,a.jsxs)("div",{className:"px-1 text-left flex justify-between my-1 text-sm",children:[(0,a.jsx)("span",{children:"Affiliate Fee (.75%)"}),Number(o)>0&&l===u.I.SYM&&r?(0,a.jsxs)("div",{className:"text-right",children:["($",(0,m.Lg)(.015*Number(o)*Number(r.assetPrice)*Number(x["MAYA.CACAO"])),") ",(0,m.Lg)(.015*Number(o)*Number(r.assetPrice))," CACAO"]}):(0,a.jsxs)("div",{className:"text-right",children:["($",(0,m.Lg)(.0075*Number(o)*Number(x[String(r.asset)])),") ",(0,m.Lg)(.0075*Number(o))," ",null==r?void 0:r.ticker]})]}),(0,a.jsxs)("div",{className:"text-left w-full mt-6 flex justify-between gap-1 flex-col xs:gap-3 xs:flex-row",children:[(0,a.jsxs)("button",{onClick:t,className:"flex gap-1 justify-center items-center bg-[#3C829B] m-auto mt-1 text-white dark:text-[#6A84A0] hover:opacity-50 hover:dark:text-white dark:text-[#ffffff86]  text-sm rounded-2xl w-full px-4 py-2 cursor-pointer",children:[(0,a.jsx)(n.JO,{icon:"iconoir:coins-swap",width:20,className:"text-[#70dd5a]"})," Add Liquidity"]}),(0,a.jsxs)("button",{onClick:s,className:"flex gap-1 justify-center items-center border dark:border-[#54575a] m-auto mt-1 text-[#6A84A0] hover:text-black hover:dark:text-white  text-sm rounded-2xl w-full px-4 py-2 bg-transparent cursor-pointer",children:[(0,a.jsx)(n.JO,{icon:"mage:cancel",width:20})," Cancel"]})]})]}),(0,a.jsxs)("div",{className:"absolute -top-8 text-white flex w-full justify-between items-center px-2 pr-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-50",children:[(0,a.jsx)(n.JO,{icon:"mage:message-question-mark-round-fill",width:"1.7rem",height:"1.7rem",className:"text-[#70dd5a]"})," ",(0,a.jsxs)("span",{className:"text-lg font-bold",children:["Add Liquidity (",l===u.I.SYM?"symmetric":"asymmetric",")"]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(n.JO,{onClick:s,icon:"ic:sharp-close",className:"cursor-pointer hover:opacity-50",width:30})})]})]})]})},f=s(88691),p=e=>{let{token:t,hash:s,setInboundResults:i}=e,[l,c]=r.useState(u.Q.PENDING),[o,d]=r.useState(0),[h,p]=r.useState(0),[g,b]=r.useState(void 0),N=r.useRef(null);r.useEffect(()=>{(null==g?void 0:g.confirmed)&&c(u.Q.SUCCESS)},[g]);let j=async e=>{try{let s=await m.zG[t.chain].getTransaction(e);b(s)}catch(e){console.log("@Ex get transaction from MAYA ---->",e)}};r.useEffect(()=>{if(s===u.Q.FAILED)c(u.Q.FAILED),i(e=>({...e,ASSET:u.Q.FAILED}));else if(s){let e=(0,m.Hy)(t.chain);p(e),d(e),c(u.Q.PENDING)}},[s]),r.useEffect(()=>{o<=0&&clearInterval(N.current)},[o]),r.useEffect(()=>{if(l===u.Q.PENDING&&s){let e=1;N.current=setInterval(async()=>{d(e=>e-1),e%5==0&&await j(s),e++},1e3)}else l===u.Q.SUCCESS&&i(e=>({...e,ASSET:u.Q.SUCCESS}));return()=>{clearInterval(N.current)}},[l,s]);let A=r.useMemo(()=>{let e=Math.floor(o/3600),t=Math.floor(o%3600/60),s=o%3600%60;return e=e<10?"0"+e:e,t=t<10?"0"+t:t,s=s<10?"0"+s:s,"".concat(e,":").concat(t,":").concat(s)},[o]);return(0,a.jsxs)("div",{className:"w-full text-left flex text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"w-1/2 flex flex-col items-end px-7",children:[l===u.Q.READY&&"Queued",l===u.Q.PENDING&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"dark:text-gray-200",children:A}),s&&(0,a.jsxs)("div",{className:"text-[12px] flex gap-1 items-center",children:[(0,a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(x.KL[t.chain].explorer+"/tx/"+s,"_blank"),children:(0,m.Hp)(s,8)}),(0,a.jsx)(f.Z,{text:s,size:18})]})]}),l===u.Q.SUCCESS&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"dark:text-gray-200",children:(0,m.bD)(null==g?void 0:g.blocktime)}),s&&(0,a.jsxs)("div",{className:"text-[12px] flex gap-1 items-center",children:[(0,a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(x.KL[t.chain].explorer+"/tx/"+s,"_blank"),children:(0,m.Hp)(s,8)}),(0,a.jsx)(f.Z,{text:s,size:18})]})]})]}),(0,a.jsxs)("div",{className:"relative w-1/2 flex flex-col items-start px-7 dark:border-gray-400 min-h-[150px] border-l ".concat("success"===l&&"!border-blue-200"),children:[(0,a.jsxs)("span",{className:"dark:text-gray-200",children:[l===u.Q.READY&&"Send ".concat(t.ticker," to Inbound vault"),l===u.Q.PENDING&&"Sending ".concat(t.ticker," to Inbound vault"),l===u.Q.SUCCESS&&"Sent ".concat(t.ticker," to Inbound vault Successfully"),l===u.Q.FAILED&&"".concat(t.chain," Transaction Failed")]}),(0,a.jsxs)("span",{className:"text-[12px]",children:[l===u.Q.READY&&"Ready ".concat(t.ticker," to Inbound Vault."),l===u.Q.PENDING&&"".concat(t.ticker," will reach Inbound Vault within approximately").concat(h?" ".concat((0,m.Lk)(h),"mins (waiting for confirmation)"):"..."),l===u.Q.SUCCESS&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"pb-1",children:"".concat(t.ticker," reached MAYA Inbound vault by")}),g&&(0,a.jsxs)("div",{children:["block: ",g.blockHeight]}),(null==g?void 0:g.confirmations)&&(0,a.jsxs)("div",{children:["confimrations: ",g.confirmations]}),(null==g?void 0:g.fee)&&(0,a.jsxs)("div",{children:["fee: ",g.fee,t.ticker]})]}),l===u.Q.FAILED&&"Failed to send ".concat(t.asset)]}),(0,a.jsxs)("div",{className:"text-3xl absolute left-0 top-0 p-1 rounded-full -translate-x-1/2 -translate-y-2 bg-white dark:bg-[#0A0C0F]",children:[l===u.Q.READY&&(0,a.jsx)(n.JO,{icon:"f7:tag-circle"}),l===u.Q.PENDING&&(0,a.jsx)("div",{className:"spin",children:(0,a.jsx)(n.JO,{icon:"mingcute:loading-fill"})}),l===u.Q.SUCCESS&&(0,a.jsx)(n.JO,{icon:"tabler:check",className:"text-blue-200"}),l===u.Q.FAILED&&(0,a.jsx)(n.JO,{icon:"openmoji:warning",className:"text-blue-200"})]})]})]})},g=e=>{let{token:t,hash:s,setInboundResults:i}=e,[l,c]=r.useState(u.Q.PENDING),[o,d]=r.useState(0),[h,p]=r.useState(0),[g,b]=r.useState(void 0),N=r.useRef(null);r.useEffect(()=>{(null==g?void 0:g.confirmed)&&c(u.Q.SUCCESS)},[g]);let j=async e=>{try{let t=await m.zG.MAYA.getTransaction(e);b(t)}catch(e){console.log("@Ex get transaction from MAYA ---->",e)}};r.useEffect(()=>{if(s===u.Q.FAILED)c(u.Q.FAILED),i(e=>({...e,CACAO:u.Q.FAILED}));else if(s){let e=(0,m.Hy)("MAYA");p(e),d(e),c(u.Q.PENDING)}},[s]),r.useEffect(()=>{o<=0&&clearInterval(N.current)},[o]),r.useEffect(()=>{if(l===u.Q.PENDING&&s){let e=1;N.current=setInterval(async()=>{d(e=>e-1),e%5==0&&await j(s),e++},1e3)}else l===u.Q.SUCCESS&&i(e=>({...e,CACAO:u.Q.SUCCESS}));return()=>{clearInterval(N.current)}},[l,s]);let A=r.useMemo(()=>{let e=Math.floor(o/3600),t=Math.floor(o%3600/60),s=o%3600%60;return e=e<10?"0"+e:e,t=t<10?"0"+t:t,s=s<10?"0"+s:s,"".concat(e,":").concat(t,":").concat(s)},[o]);return(0,a.jsxs)("div",{className:"w-full text-left flex text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"w-1/2 flex flex-col items-end px-7",children:[l===u.Q.READY&&"Queued",l===u.Q.PENDING&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"dark:text-gray-200",children:A}),s&&(0,a.jsxs)("div",{className:"text-[12px] flex gap-1 items-center",children:[(0,a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(x.KL.MAYA.explorer+"/tx/"+s,"_blank"),children:(0,m.Hp)(s,8)}),(0,a.jsx)(f.Z,{text:s,size:18})]})]}),l===u.Q.SUCCESS&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"dark:text-gray-200",children:(0,m.bD)(null==g?void 0:g.blocktime)}),s&&(0,a.jsxs)("div",{className:"text-[12px] flex gap-1 items-center",children:[(0,a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(x.KL.MAYA.explorer+"/tx/"+s,"_blank"),children:(0,m.Hp)(s,8)}),(0,a.jsx)(f.Z,{text:s,size:18})]})]})]}),(0,a.jsxs)("div",{className:"relative w-1/2 flex flex-col items-start px-7 dark:border-gray-400 min-h-[100px] border-l ".concat("success"===l&&"!border-blue-200"),children:[(0,a.jsxs)("span",{className:"dark:text-gray-200",children:[l===u.Q.READY&&"Deposit CACAO for Symmetric Liquidity",l===u.Q.PENDING&&"CACAO Depositing",l===u.Q.SUCCESS&&"CACAO deposit Successful",l===u.Q.FAILED&&"MAYA Transaction Failed"]}),(0,a.jsxs)("span",{className:"text-[12px]",children:[l===u.Q.READY&&"Ready to deposit CACAO",l===u.Q.PENDING&&"CACAO will reach MAYA within approximately".concat(h?" ".concat((0,m.Lk)(h),"mins (waiting for confirmation)"):"..."),l===u.Q.SUCCESS&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"pb-1",children:"CACAO reached MAYA by"}),g&&(0,a.jsxs)("div",{children:["block: ",g.blockHeight]}),(null==g?void 0:g.confirmations)&&(0,a.jsxs)("div",{children:["confimrations: ",g.confirmations]}),(null==g?void 0:g.fee)&&(0,a.jsxs)("div",{children:["fee: ",g.fee,"CACAO"]})]}),l===u.Q.FAILED&&"Failed to deposit CACAO"]}),(0,a.jsxs)("div",{className:"text-3xl absolute left-0 top-0 p-1 rounded-full -translate-x-1/2 -translate-y-2 bg-white dark:bg-[#0A0C0F]",children:[l===u.Q.READY&&(0,a.jsx)(n.JO,{icon:"f7:tag-circle"}),l===u.Q.PENDING&&(0,a.jsx)("div",{className:"spin",children:(0,a.jsx)(n.JO,{icon:"mingcute:loading-fill"})}),l===u.Q.SUCCESS&&(0,a.jsx)(n.JO,{icon:"tabler:check",className:"text-blue-200"}),l===u.Q.FAILED&&(0,a.jsx)(n.JO,{icon:"openmoji:warning",className:"text-blue-200"})]})]})]})},b=s(67248),N=e=>{let{token:t,hash:s,mode:i,stepper:l,setStepper:c}=e,[d,h]=r.useState(u.Q.READY),[p,g]=r.useState(0),[N,j]=r.useState(0),[A,v]=r.useState(void 0),[w,S]=r.useState(""),C=r.useRef(u.Q.PENDING),[y,k]=r.useState(""),[E,Q]=r.useState("Processing request in MAYA"),[I,D]=r.useState(void 0),[F,L]=r.useState(void 0),O=r.useRef(null),{showNotification:M}=(0,b.Z)();r.useEffect(()=>{F&&(M("Added Liquidity Successfully",u.Q.SUCCESS),h(u.Q.SUCCESS))},[F]);let Y=async e=>{try{let{data:{actions:t}}=await o.Z.get("https://midgard.mayachain.info/v2/actions?txid=".concat(e));if(0===t.length)throw"no actions";let s=t[t.length-1];"refund"===s.type?(M("Refund, ".concat(s.metadata.refund.reason),"error"),h(u.Q.FAILED),c(u.Q.FAILED)):"addLiquidity"===s.type&&C.current===u.Q.PENDING?(console.log("maya action is pending..."),D(s.height),C.current=u.Q.SUCCESS):"addLiquidity"===s.type&&s.status===u.Q.SUCCESS&&L(s)}catch(e){console.log("@Ex get transaction from MAYA ---->",e)}};r.useEffect(()=>{p<=0&&clearInterval(O.current)},[p]),r.useEffect(()=>{if(d===u.Q.PENDING){let e=1;O.current=setInterval(async()=>{g(e=>e-1),e%5==0&&await Y(s),e++},1e3)}else d===u.Q.SUCCESS&&c(u.Q.SUCCESS);return()=>{clearInterval(O.current)}},[d,s]),r.useEffect(()=>{"maya"===l&&(h(u.Q.PENDING),g(45),j(45))},[l]);let P=r.useMemo(()=>{let e=Math.floor(p/3600),t=Math.floor(p%3600/60),s=p%3600%60;return e=e<10?"0"+e:e,t=t<10?"0"+t:t,s=s<10?"0"+s:s,"".concat(e,":").concat(t,":").concat(s)},[p]);return(0,a.jsxs)("div",{className:"w-full text-left flex text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"w-1/2 flex flex-col items-end px-7",children:[d===u.Q.READY&&"Queued",d===u.Q.PENDING&&(0,a.jsx)("span",{className:"dark:text-gray-200",children:P}),d===u.Q.SUCCESS&&F&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"dark:text-gray-200",children:(0,m.bD)(Number(F.date)/1e6)}),(0,a.jsxs)("div",{className:"text-[12px] flex gap-1 items-center pb-1",children:[(0,a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(x.KL.MAYA.explorer+"/tx/"+s,"_blank"),children:(0,m.Hp)(s,8)}),(0,a.jsx)(f.Z,{text:s,size:18})]}),F.height&&(0,a.jsxs)("div",{className:"text-[12px]",children:["maya block: ",F.height]})]})]}),(0,a.jsxs)("div",{className:"relative w-1/2 flex flex-col items-start px-7 min-h-[100px]",children:[(0,a.jsxs)("span",{className:"dark:text-gray-200",children:[d===u.Q.READY&&"Process in MAYA",d===u.Q.PENDING&&E,d===u.Q.SUCCESS&&"Liquidity Added Successfully",d===u.Q.FAILED&&"MAYA Request Failed"]}),(0,a.jsxs)("span",{className:"text-[12px]",children:[d===u.Q.READY&&"Ready for ".concat(t.ticker).concat(i===u.I.SYM&&"/CACAO"," Liquidity add"),d===u.Q.PENDING&&"Liquidity will be added ".concat(I?"by Maya block ".concat(I):""," within approximately").concat(N?" ".concat((0,m.Lk)(N),"mins"):"..."),d===u.Q.SUCCESS&&"".concat(t.ticker).concat(i===u.I.SYM&&"/CACAO"," Liquidity added successfully by Maya block ").concat(I),d===u.Q.FAILED&&"Failed to add Liquidity"]}),(0,a.jsxs)("div",{className:"text-3xl absolute left-0 top-0 p-1 rounded-full -translate-x-1/2 -translate-y-2 bg-white dark:bg-[#0A0C0F]",children:[d===u.Q.READY&&(0,a.jsx)(n.JO,{icon:"f7:tag-circle"}),d===u.Q.PENDING&&(0,a.jsx)("div",{className:"spin",children:(0,a.jsx)(n.JO,{icon:"mingcute:loading-fill"})}),d===u.Q.SUCCESS&&(0,a.jsx)(n.JO,{icon:"tabler:check",className:"text-blue-200"}),d===u.Q.FAILED&&(0,a.jsx)(n.JO,{icon:"openmoji:warning",className:"text-blue-200"})]})]})]})},j=e=>{var t,s;let[l,c]=r.useState("inbound"),[o,d]=r.useState({ASSET:u.Q.READY,CACAO:u.Q.READY});return r.useEffect(()=>{e.mode===u.I.ASYM&&o.ASSET===u.Q.SUCCESS?c("maya"):e.mode===u.I.SYM&&o.ASSET===u.Q.SUCCESS&&o.CACAO===u.Q.SUCCESS?c("maya"):(o.ASSET===u.Q.FAILED||o.CACAO===u.Q.FAILED)&&c(u.Q.FAILED)},[o]),r.useEffect(()=>()=>{e.setHashes({})},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-[#0000003d] z-10 backdrop-filter backdrop-blur-[10px]"}),(0,a.jsx)("div",{className:"rounded-2xl z-50 fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-[1px] bg-gradient-to-tr from-[#ff6a0096] via-[#6d78b280] to-[#e02d6f86] mt-10 md:mt-0 w-full lg:w-[600px]",children:(0,a.jsxs)("div",{className:"rounded-2xl relative text-center p-4 bg-white dark:bg-[#0A0C0F] dark:text-white text-black pb-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center flex-col gap-1 my-3 mb-5",children:[l!==u.Q.SUCCESS&&l!==u.Q.FAILED?(0,a.jsx)("div",{className:"w-[40px] h-[40px] flex items-center justify-center",children:(0,a.jsx)(n.JO,{icon:"icomoon-free:spinner9",className:"text-2xl spin"})}):(0,a.jsx)(i.default,{src:"/favicon.svg",width:45,height:45,alt:"logo",priority:!0,className:"translate-x-1"}),(0,a.jsxs)("div",{className:"text-center",children:[l!==u.Q.SUCCESS&&l!==u.Q.FAILED&&"Adding liquidity in progress",l===u.Q.SUCCESS&&"Added Liquidity Success",l===u.Q.FAILED&&"Add Liquidity Failed"]})]}),(0,a.jsxs)("div",{className:"flex p-3 mb-4 text-sm text-gray-800 border-l-2 border-blue-300 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-gray-300",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("svg",{className:"flex-shrink-0 inline w-4 h-4 me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})})}),(0,a.jsx)("div",{className:"text-justify",children:"Adding Liquidity transactions seem to be taking longer than expected. Do not worry. Transaction times may vary depending on network conditions and MAYA Chain activity. If more than an hour have passed, please contact TurboTrades Support."})]}),(0,a.jsxs)("div",{className:"flex w-full gap-2 items-center rounded-lg justify-center dark:bg-[#111b20fd] p-3 mt-2 mb-7",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(i.default,{src:e.pool.image||"/images/tokens/btc.webp",width:30,height:30,alt:"sun",className:"rounded-full",priority:!0}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,a.jsxs)("span",{children:["+",(0,m.Lg)(e.amount)]}),(0,a.jsxs)("span",{className:"text-[11px]",children:["$",(0,m.Lg)(Number(e.amount)*Number(null===(t=e.pool)||void 0===t?void 0:t.assetPriceUSD))]})]})]}),e.mode===u.I.SYM&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.JO,{icon:"flat-color-icons:currency-exchange",width:25}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(i.default,{src:"/images/tokens/cacao.png",width:30,height:30,alt:"sun",className:"rounded-2xl",priority:!0}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,a.jsxs)("span",{children:["+",(0,m.Lg)(Number(e.amount)*Number(e.pool.assetPrice))]}),(0,a.jsxs)("span",{className:"text-[11px]",children:["$",(0,m.Lg)(Number(e.amount)*Number(null===(s=e.pool)||void 0===s?void 0:s.assetPriceUSD))]})]})]})]})]}),(0,a.jsx)(p,{token:e.pool,hash:e.hashes.ASSET,setInboundResults:d}),e.mode===u.I.SYM&&(0,a.jsx)(g,{token:e.pool,hash:e.hashes.CACAO,setInboundResults:d}),(0,a.jsx)(N,{token:e.pool,mode:e.mode,hash:e.hashes.ASSET,setStepper:c,stepper:l}),(0,a.jsx)("div",{className:"absolute top-4 right-4 text-white flex justify-between items-center",children:(0,a.jsx)("div",{children:(0,a.jsx)(n.JO,{onClick:()=>e.setVisible(!1),icon:"ic:sharp-close",className:"cursor-pointer hover:opacity-50",width:30})})})]})})]})},A=s(2664),v=s(34294),w=s(47907),S=()=>{var e,t;let s=(0,w.useRouter)(),f=(0,w.useSearchParams)().get("asset"),p=(0,w.usePathname)(),[g]=(0,c.useAtom)(d.OF),[N]=(0,c.useAtom)(d.UZ),[S]=(0,c.useAtom)(d.xc),[C,y]=r.useState(),[k,E]=r.useState(u.I.ASYM),[Q,I]=r.useState(""),[D,F]=r.useState("0"),[L,O]=r.useState(!1),[M,Y]=r.useState(!1),[P,U]=r.useState(!1),[R,G]=r.useState(!1),[J,B]=r.useState("https://vercel.app"),[T,q]=r.useState([]),[Z,H]=r.useState({}),{showNotification:_}=(0,b.Z)(),{xChainAddLPAsset:z,xChainAddLPCACAO:K}=(0,A.Z)(),{xDefiAddLPAsset:$,xDefiAddLPCACAO:V}=(0,v.Z)(),X=()=>{E(k===u.I.SYM?u.I.ASYM:u.I.SYM)};r.useEffect(()=>{if(C){let e=Number(Q)*Number(null==C?void 0:C.assetPriceUSD);F((0,m.Lg)(e))}},[Q,C]),r.useEffect(()=>{y(g.find(e=>e.asset===f))},[f,g]);let W=async()=>{O(!1),Y(!0),G(!0);try{var e,t;let{data:s}=await o.Z.get("https://mayanode.mayachain.info/mayachain/inbound_addresses"),a=s.find(e=>e.chain===(null==C?void 0:C.chain));if(!a)throw"None inbound address";let r=null===(e=N[null==C?void 0:C.chain])||void 0===e?void 0:e.address,i=null===(t=N.MAYA)||void 0===t?void 0:t.address;if(!r)throw"Please connect current chain.";if(!i)throw"Please connect Maya chain.";let n=x._G[null==C?void 0:C.asset].decimals,l=String(null==C?void 0:C.asset);(null==S?void 0:S.name)==="Keystore"?(await z({asset:l,decimals:n,amount:Number(Q),recipient:a.address,mayaAddress:i,mode:k}).then(e=>{H(t=>({...t,ASSET:e}))}).catch(e=>{throw H(e=>({...e,ASSET:u.Q.FAILED})),e}),k===u.I.SYM&&await K({asset:l,amount:Number(Q),address:r,mayaAddress:i}).then(e=>{H(t=>({...t,CACAO:e}))}).catch(e=>{throw H(e=>({...e,CACAO:u.Q.FAILED})),e})):(null==S?void 0:S.name)==="XDEFI"?(await $({asset:l,decimals:n,amount:Number(Q),recipient:a.address,mayaAddress:i,mode:k}).then(e=>{H(t=>({...t,ASSET:e}))}).catch(e=>{throw H(e=>({...e,ASSET:u.Q.FAILED})),e}),k===u.I.SYM&&V({asset:l,amount:Number(Q),address:r,mayaAddress:i}).then(e=>{H(t=>({...t,CACAO:e}))}).catch(e=>{throw H(e=>({...e,CACAO:u.Q.FAILED})),e})):null==S||S.name}catch(e){String(e).includes("insufficient funds for intrinsic transaction cost")?_("Insufficient funds for intrinsic transaction cost.","warning"):_(String(e),"warning")}finally{Y(!1)}},ee=async(e,t,s)=>{let a=await (0,m.Ed)(t);return x.go[t]===e?(console.log("@fee estimation ----------",e,{balance:s,require:a,gap:s-a}),s>a):(console.log("@fee estimation ----------",x.go[t],{balance:N[t].balance[0].amount,require:a,gap:N[t].balance[0].amount-a}),N[t].balance[0].amount>a)},et=async()=>{H({});try{if(0>=Number(Q))throw"Please Input token amount to swap";if(!N[null==C?void 0:C.chain])throw"Please connect ".concat(null==C?void 0:C.chain," chain.");if(!N.MAYA)throw"Please connet MAYA chain.";let e=N[String(null==C?void 0:C.chain)].balance.find(e=>e.asset===String(null==C?void 0:C.asset).split("-")[0]),t=e?e.amount:0;if(((null==C?void 0:C.asset)==="DASH.DASH"||(null==C?void 0:C.asset)==="BTC.BTC")&&1e-4>Number(Q))throw"Amount to swap must be greater than the dust threshold value (0.0001). Don't set your transaction amount too low, as transactions that are too small may be refunded.";if(console.log("@balance estimation ------------->",{balance:t,amount:Q,gap:t-Number(Q)}),t<Number(Q))throw"Insufficient Balance.";if(!await ee(null==C?void 0:C.asset,null==C?void 0:C.chain,t-Number(Q)))throw"Insufficient fee for transaction.";if("sym"===k){let e=Number(Q)*Number(null==C?void 0:C.assetPrice),t=N.MAYA.balance[0].amount||0;if(console.log("@cacao balance estimation ------------->",{balance:t,amount:e,gap:t-e}),t<e)throw"Insufficient CACAO Balance.";if(!await ee("MAYA.CACAO","MAYA",t-e))throw"Insufficient CACAO fee for transaction."}O(!0)}catch(e){_(e,"info")}},es=(e,t)=>(0,a.jsx)("button",{onClick:()=>s.push("".concat(t,"?asset=").concat(f)),className:"dark:bg-[#111214] bg-white text-[12px] py-[5px] px-3 rounded-lg text-gray-400 hover:dark:text-white hover:dark:bg-black hover:opacity-50 ".concat(p===t&&"border  dark:!text-white dark:border-[#cccccc3b] border-[#4b434370] !text-black"),children:e},e);return(0,a.jsxs)("div",{className:"flex grow flex-col mt-2",children:[L&&(0,a.jsx)(h,{onOK:W,onCancel:()=>O(!1),pool:C,amount:Q,mode:k}),R&&C&&(0,a.jsx)(j,{setVisible:G,pool:C,amount:Q,mode:k,hashes:Z,setHashes:H,address:N[String(C.chain)].address,mayaAddress:N.MAYA.address}),(0,a.jsx)("div",{className:"flex gap-1",children:x.Gv.map(e=>{let{label:t,url:s}=e;return es(t,s)})}),(0,a.jsxs)("div",{className:"flex flex-col w-full justify-center items-center  mt-2 lg:mt-20",children:[(0,a.jsx)("div",{className:"rounded-2xl p-[1px] bg-gradient-to-tr from-[#ff6a0096] via-[#6d78b280] to-[#e02d6f86] mt-10 md:mt-0 w-full lg:w-[600px]",children:(0,a.jsxs)("div",{className:"rounded-2xl p-3 pt-4 bg-white dark:bg-[#0A0C0F] dark:text-white",children:[(0,a.jsxs)("div",{className:"flex text-sm lg:gap-0 gap-2 lg:space-x-2 lg:flex-row flex-col",children:[(0,a.jsxs)("div",{className:"flex space-x-2 lg:w-2/3",children:[(0,a.jsxs)("div",{className:"w-2/3 justify-center items-center flex p-3 rounded-xl dark:bg-[#111317] border dark:border-[#1B2028] gap-2",children:[(0,a.jsx)(i.default,{src:C?String(C.image):"/images/tokens/cacao.png",width:25,height:20,alt:"sun",priority:!0,className:"rounded-full"}),(0,a.jsx)("span",{className:"xxs:flex hidden",children:C&&C.ticker}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)(i.default,{src:"/images/tokens/cacao.png",width:25,height:20,alt:"sun",priority:!0}),(0,a.jsx)("span",{className:"xxs:flex hidden",children:"CACAO"})]}),(0,a.jsxs)(l.Lt,{label:"",renderTrigger:()=>(0,a.jsxs)("div",{className:"w-1/3 flex justify-center items-center p-2 rounded-xl dark:bg-[#111317] border dark:border-[#1B2028] gap-2 cursor-pointer hover:opacity-50",children:["Pool",(0,a.jsx)(n.JO,{icon:"iconamoon:arrow-down-2-duotone",width:24,className:"text-white font-bold"})]}),children:[(0,a.jsx)(l.Lt.Item,{children:"Liquidity Pools"}),(0,a.jsx)(l.Lt.Divider,{}),g.map(e=>(0,a.jsxs)(l.Lt.Item,{onClick:()=>s.push("".concat(p,"?asset=").concat(e.asset)),className:"flex gap-2 !text-sm",children:[(0,a.jsx)(i.default,{src:e.image,width:25,height:20,alt:"sun",priority:!0,className:"rounded-full"}),(0,a.jsx)("span",{children:e.ticker}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)(i.default,{src:"/images/tokens/cacao.png",width:25,height:20,priority:!0,alt:"cacao"}),(0,a.jsx)("span",{children:"CACAO"})]},e.asset))]})]}),(0,a.jsxs)("div",{className:"w-full lg:w-1/3 flex p-2 justify-center items-center rounded-xl dark:bg-[#111317] border dark:border-[#1B2028] gap-2",children:[(0,a.jsx)(i.default,{src:"/images/chart.svg",width:25,height:25,alt:"sun",priority:!0}),(0,a.jsx)("span",{className:"text-[#2ABA3C]",children:"APR"}),(0,a.jsxs)("span",{className:"text-[#2ABA3C] font-bold",children:[Number(null==C?void 0:C.annualPercentageRate)>0&&"+",C&&(100*Number(C.annualPercentageRate)).toFixed(2),"%"]})]})]}),(0,a.jsxs)("div",{className:"w-full p-4 dark:text-[#ffffffa1] dark:bg-[#030506] bg-[#F3F7FC] rounded-2xl mt-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex gap-3 text-lg items-center",children:[(0,a.jsx)(i.default,{src:C?String(C.image):"/images/tokens/cacao.png",width:40,height:40,alt:"sun",priority:!0,className:"rounded-full"}),null==C?void 0:C.ticker]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("span",{className:"text-[#2ABA3C] text-[1rem]",children:"APR"}),(0,a.jsx)("span",{className:"text-[#2ABA3C] text-lg",children:":"}),(0,a.jsxs)("span",{className:"text-xl font-bold text-[#2ABA3C]",children:[Number(null==C?void 0:C.annualPercentageRate)>0&&"+",C&&(100*Number(C.annualPercentageRate)).toFixed(2),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex text-[15px] flex-col xs:flex-row gap-2 mt-3 justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col xs:flex-row items-center justify-between dark:bg-[#0a0f14] grow bg-white border border-[#DCE4EF] dark:border-[#3341558e] rounded-xl p-[6px]",children:[(0,a.jsx)("div",{className:"w-full xs:w-auto text-[#8A8D92] dark:text-[#B0B7C3] pl-3 text-sm",children:"Amount:"}),(0,a.jsx)("input",{onChange:e=>{let t=e.target.value;0>Number(t)||isNaN(Number(t))||t.length>15||I(t)},value:Q,placeholder:"0.0",className:"grow px-2 bg-transparent rounded-[12px] w-full outline-none border-none"}),(0,a.jsxs)("div",{className:"px-2 w-full xs:w-auto",children:[D,"$"]}),(0,a.jsx)("div",{onClick:()=>{try{if(0===Object.keys(N).length||!C)return"0";for(let e in N)N[e].balance.forEach(e=>{if(C.ticker===x._G[String(e.asset)].ticker)throw e.amount});throw"0"}catch(e){I(String(e))}},className:"w-full xs:w-auto dark:bg-[#0a0f14] bg-[#E2E6EB] border border-[#DCE4EF] dark:border-[#3341558e] cursor-pointer hover:opacity-50 rounded-lg p-2 text-[12px]",children:"MAX"})]}),u.I.ASYM&&(0,a.jsx)("button",{onClick:et,className:"text-white flex justify-center items-center rounded-xl bg-gradient-to-r from-[#FF6802] to-[#EE0E72] p-3 w-full xs:w-[100px] cursor-pointer hover:opacity-50",children:M?(0,a.jsx)(n.JO,{icon:"icomoon-free:spinner9",width:25,className:"spin"}):"Add"})]}),(0,a.jsxs)("div",{className:"py-1 px-2 text-sm",children:["Balance: ",(0,m.Lg)(r.useMemo(()=>{try{if(0===Object.keys(N).length||!C)return"0";for(let e in N)N[e].balance.forEach(e=>{if(C.ticker===x._G[String(e.asset)].ticker)throw e.amount});throw"0"}catch(e){return e}},[N,C]))," ",null==C?void 0:C.ticker]}),(0,a.jsxs)("button",{onClick:()=>X(),className:"flex text-sm items-center justify-center hover:opacity-50 cursor-pointer mt-10 bg-[#131822] text-[#B0B7C3] dark:text-[#B0B7C3] gap-2 p-3 rounded-xl w-full dark:bg-[#0F161F]",children:["Add two sided",(0,a.jsx)(n.JO,{icon:"iconamoon:arrow-down-2-duotone",width:24,className:"text-white font-bold"})]})]})]})}),k===u.I.SYM&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"relative my-6 border-dashed border-b border-[#00000059] dark:border-[#ffffff4f] w-full lg:w-[600px]",children:(0,a.jsx)("div",{className:"absolute flex items-center justify-center w-12 h-12 border-8 border-[#F3F7FC] dark:border-[#030506] rounded-full left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#8f7676] dark:bg-[#131822]",children:(0,a.jsx)(n.JO,{onClick:X,icon:"tdesign:swap",className:"text-white hover:opacity-50 cursor-pointer arrow-rotate",rotate:1})})}),(0,a.jsx)("div",{className:"rounded-2xl p-3 pt-4 bg-white dark:bg-[#0A0C0F] dark:text-white md:mt-0 w-full lg:w-[600px] border border-dashed dark:border-[#F2215A]",children:(0,a.jsxs)("div",{className:"w-full p-4 dark:text-[#ffffffa1] dark:bg-[#0F161F] bg-[#F3F7FC] rounded-2xl border dark:border-[#33415583]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.default,{src:"/images/tokens/cacao.png",width:40,height:40,alt:"sun",priority:!0}),"CACAO"]}),(0,a.jsxs)("div",{className:"flex flex-col xs:flex-row gap-1 mt-4 items-center justify-between dark:bg-[#0a0f14] grow bg-white border border-[#DCE4EF] dark:border-[#3341558e] rounded-xl p-[6px]",children:[(0,a.jsx)("div",{className:"w-full xs:w-auto text-[#8A8D92] dark:text-[#B0B7C3] pl-3 text-sm",children:"Amount:"}),(0,a.jsx)("input",{placeholder:"0.0",disabled:!0,value:(0,m.Lg)(Number(Q)*Number(null==C?void 0:C.assetPrice)),className:"grow px-2 bg-transparent py-2 rounded-[12px] w-full outline-none border-none"}),(0,a.jsxs)("div",{className:"px-2 w-full xs:w-auto",children:[D,"$"]})]}),(0,a.jsxs)("div",{className:"py-1 px-2  text-sm",children:["Balance: ",(0,m.Lg)(null===(t=N.MAYA)||void 0===t?void 0:null===(e=t.balance[0])||void 0===e?void 0:e.amount)," CACAO"]}),(0,a.jsx)("button",{onClick:et,className:"text-white text-sm mt-4 rounded-xl bg-gradient-to-r from-[#FF6802] to-[#EE0E72] p-4 w-full cursor-pointer hover:opacity-50",children:M?(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,a.jsx)(n.JO,{icon:"icomoon-free:spinner9",className:"spin"}),"Processing..."]}):"Add Liquidity"})]})})]})]})]})}},88691:function(e,t,s){"use strict";var a=s(3827),r=s(64090),i=s(37948),n=s(50772);t.Z=e=>{let{text:t,size:s}=e,[l,c]=r.useState(!1);return l?(0,a.jsx)(i.JO,{icon:"entypo:check",width:s,className:"cursor-pointer hover:opacity-75"}):(0,a.jsx)(i.JO,{onClick:()=>{try{(0,n.vQ)(t),c(!0),setTimeout(()=>{c(!1)},500)}catch(e){}},icon:"akar-icons:copy",width:s,className:"cursor-pointer hover:opacity-75"})}},2664:function(e,t,s){"use strict";var a=s(64090),r=s(82242);t.Z=()=>{let e=a.useContext(r.T4);if(e)return e;throw"can't read context"}}},function(e){e.O(0,[2420,9982,5501,9991,3860,4716,3193,2133,9376,313,2105,4350,8218,9751,4276,5457,9228,8933,3611,7948,703,7908,8757,2897,4154,2970,2971,8069,1744],function(){return e(e.s=4409)}),_N_E=e.O()}]);
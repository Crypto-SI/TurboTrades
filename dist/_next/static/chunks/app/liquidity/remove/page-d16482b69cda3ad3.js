(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3520],{74926:function(e,t,s){Promise.resolve().then(s.bind(s,26605))},26605:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(3827),r=s(64090),l=s(20703),i=s(37948),n=s(31355),c=s(78757),o=s(7908),d=s(50568),x=s(9683),u=s(43726),h=s(47907),m=s(50772),f=s(2664),p=s(34294),g=s(67248),b=s(88691),N=e=>{let{token:t,hash:s,setStepper:l,mode:n}=e,[c,o]=r.useState(u.Q.PENDING),[d,h]=r.useState(0),[f,p]=r.useState(0),[N,v]=r.useState(void 0),w=r.useRef(null),{showNotification:S}=(0,g.Z)();r.useEffect(()=>{(null==N?void 0:N.confirmed)&&o(u.Q.SUCCESS)},[N]);let j=async e=>{try{let s=await m.zG[n===u.I.ASYM?t.chain:"MAYA"].getTransaction(e);v(s)}catch(e){console.log("@Ex get transaction from MAYA ---->",e)}};r.useEffect(()=>{if(s===u.Q.FAILED)o(u.Q.FAILED),l(u.Q.FAILED);else if(s){let e=(0,m.Hy)(n===u.I.ASYM?t.chain:"MAYA");p(e),h(e),o(u.Q.PENDING)}},[s]),r.useEffect(()=>{d<=0&&clearInterval(w.current)},[d]),r.useEffect(()=>{if(c===u.Q.PENDING&&s){let e=1;w.current=setInterval(async()=>{h(e=>e-1),e%5==0&&await j(s),e++},1e3)}else c===u.Q.SUCCESS&&(S("Inbound transaction Success",u.Q.SUCCESS),l("maya"));return()=>{clearInterval(w.current)}},[c,s]);let y=r.useMemo(()=>{let e=Math.floor(d/3600),t=Math.floor(d%3600/60),s=d%3600%60;return e=e<10?"0"+e:e,t=t<10?"0"+t:t,s=s<10?"0"+s:s,"".concat(e,":").concat(t,":").concat(s)},[d]);return(0,a.jsxs)("div",{className:"w-full text-left flex text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"w-1/2 flex flex-col items-end px-7",children:[c===u.Q.READY&&"Queued",c===u.Q.PENDING&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"dark:text-gray-200",children:y}),s&&(0,a.jsxs)("div",{className:"text-[12px] flex gap-1 items-center",children:[(0,a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(x.KL[n===u.I.ASYM?t.chain:"MAYA"].explorer+"/tx/"+s,"_blank"),children:(0,m.Hp)(s,8)}),(0,a.jsx)(b.Z,{text:s,size:18})]})]}),c===u.Q.SUCCESS&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"dark:text-gray-200",children:(0,m.bD)(null==N?void 0:N.blocktime)}),s&&(0,a.jsxs)("div",{className:"text-[12px] flex gap-1 items-center",children:[(0,a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(x.KL[n===u.I.ASYM?t.chain:"MAYA"].explorer+"/tx/"+s,"_blank"),children:(0,m.Hp)(s,8)}),(0,a.jsx)(b.Z,{text:s,size:18})]})]})]}),(0,a.jsxs)("div",{className:"relative w-1/2 flex flex-col items-start px-7 dark:border-gray-400 min-h-[150px] border-l ".concat("success"===c&&"!border-blue-200"),children:[(0,a.jsxs)("span",{className:"dark:text-gray-200",children:[c===u.Q.READY&&(n===u.I.ASYM?"Send ".concat(t.ticker," to Inbound vault."):"Send CACAO to withdraw."),c===u.Q.PENDING&&(n===u.I.ASYM?"Sending ".concat(t.ticker," to Inbound vault."):"Send CACAO to MAYA."),c===u.Q.SUCCESS&&(n===u.I.ASYM?"Sent ".concat(t.ticker," to Inbound vault Successfully."):"CACAO Sent Succesfully."),c===u.Q.FAILED&&(n===u.I.ASYM?"".concat(t.chain," Transaction Failed."):"MAYA Transaction Failed.")]}),(0,a.jsxs)("span",{className:"text-[12px]",children:[c===u.Q.READY&&(n===u.I.ASYM?"Ready ".concat(t.ticker," to Inbound Vault."):"Ready to send CACAO."),c===u.Q.PENDING&&"".concat(n===u.I.ASYM?"".concat(t.ticker," will reach Inbound Vault"):"CACAO will reach MAYA"," within approximately").concat(f?" ".concat((0,m.Lk)(f),"mins (waiting for confirmation)"):"..."),c===u.Q.SUCCESS&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"pb-1",children:n===u.I.ASYM?"".concat(t.ticker," reached MAYA Inbound vault by"):"CACAO reached MAYA by"}),N&&(0,a.jsxs)("div",{children:["block: ",N.blockHeight]}),(null==N?void 0:N.confirmations)&&(0,a.jsxs)("div",{children:["confimrations: ",N.confirmations]}),(null==N?void 0:N.fee)&&(0,a.jsxs)("div",{children:["fee: ",N.fee,n===u.I.ASYM?t.ticker:"CACAO"]})]}),c===u.Q.FAILED&&"Failed Transaction"]}),(0,a.jsxs)("div",{className:"text-3xl absolute left-0 top-0 p-1 rounded-full -translate-x-1/2 -translate-y-2 bg-white dark:bg-[#0A0C0F]",children:[c===u.Q.READY&&(0,a.jsx)(i.JO,{icon:"f7:tag-circle"}),c===u.Q.PENDING&&(0,a.jsx)("div",{className:"spin",children:(0,a.jsx)(i.JO,{icon:"mingcute:loading-fill"})}),c===u.Q.SUCCESS&&(0,a.jsx)(i.JO,{icon:"tabler:check",className:"text-blue-200"}),c===u.Q.FAILED&&(0,a.jsx)(i.JO,{icon:"openmoji:warning",className:"text-blue-200"})]})]})]})},v=e=>{let{token:t,hash:s,stepper:l,setStepper:n}=e,[c,d]=r.useState(u.Q.READY),[h,f]=r.useState(0),[p,N]=r.useState(0),[v,w]=r.useState(void 0),[S,j]=r.useState(""),y=r.useRef(u.Q.PENDING),[A,k]=r.useState(""),[E,C]=r.useState("Processing request in MAYA"),[I,Q]=r.useState(void 0),D=r.useRef(null),{showNotification:F}=(0,g.Z)(),M=async e=>{for(let e=0;e<10;e++){try{let e=await m.zG[t.chain].getTransaction(S);console.log(e),w(e);break}catch(e){}await (0,m._v)(5e3)}};r.useEffect(()=>{(null==v?void 0:v.confirmed)&&(F("Withdraw Success",u.Q.SUCCESS),d(u.Q.SUCCESS))},[v]),r.useEffect(()=>{S&&M(S)},[S]);let Y=async e=>{try{let{data:{actions:s}}=await o.Z.get("https://midgard.mayachain.info/v2/actions?txid=".concat(e));if(0===s.length)throw"no actoins";let a=s[s.length-1];if("refund"===a.type)d(u.Q.FAILED),n(u.Q.FAILED);else if("withdraw"===a.type&&y.current===u.Q.PENDING){console.log(a);let e=(0,m.cG)(t.chain);Q(a.height),C("".concat(t.ticker," is on its way to your wallet")),k("".concat(t.ticker," is on its way to your wallet via maya block ").concat(a.height,", it will arrive within approximately ").concat((0,m.Lk)(e),"mins")),N(e),f(e),y.current=u.Q.SUCCESS}else"withdraw"===a.type&&a.status===u.Q.SUCCESS&&(console.log("withdraw success"),k("".concat(t.ticker," reached by maya block ").concat(a.height)),j(a.out[0].txID))}catch(e){console.log("@Ex get transaction from MAYA ---->",e)}};r.useEffect(()=>{h<=0&&clearInterval(D.current)},[h]),r.useEffect(()=>{if(c===u.Q.PENDING&&s){let e=1;D.current=setInterval(async()=>{f(e=>e-1),e%5==0&&await Y(s),e++},1e3)}else c===u.Q.SUCCESS&&n(u.Q.SUCCESS);return()=>{clearInterval(D.current)}},[c,s]),r.useEffect(()=>{"maya"===l&&(d(u.Q.PENDING),f(30),N(30))},[l]);let L=r.useMemo(()=>{let e=Math.floor(h/3600),t=Math.floor(h%3600/60),s=h%3600%60;return e=e<10?"0"+e:e,t=t<10?"0"+t:t,s=s<10?"0"+s:s,"".concat(e,":").concat(t,":").concat(s)},[h]);return(0,a.jsxs)("div",{className:"w-full text-left flex text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"w-1/2 flex flex-col items-end px-7",children:[c===u.Q.READY&&"Queued",c===u.Q.PENDING&&(0,a.jsx)("span",{className:"dark:text-gray-200",children:L}),c===u.Q.SUCCESS&&v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"dark:text-gray-200",children:(0,m.bD)(v.blocktime)}),(0,a.jsxs)("div",{className:"text-[12px] flex gap-1 items-center pb-1",children:[(0,a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(x.KL[t.chain].explorer+"/tx/"+S,"_blank"),children:(0,m.Hp)(S,8)}),(0,a.jsx)(b.Z,{text:S,size:18})]}),v.blockHeight&&(0,a.jsxs)("div",{className:"text-[12px]",children:["block: ",v.blockHeight]}),v.confirmations&&(0,a.jsxs)("div",{className:"text-[12px]",children:["confimrations: ",v.confirmations]}),v.fee>0&&(0,a.jsxs)("div",{className:"text-[12px]",children:["fee: ",v.fee,t.ticker]})]})]}),(0,a.jsxs)("div",{className:"relative w-1/2 flex flex-col items-start px-7 min-h-[100px]",children:[(0,a.jsxs)("span",{className:"dark:text-gray-200",children:[c===u.Q.READY&&"Process in MAYA",c===u.Q.PENDING&&E,c===u.Q.SUCCESS&&"".concat(t.ticker," Reached your wallet Successfully"),c===u.Q.FAILED&&"MAYA Request Failed"]}),(0,a.jsxs)("span",{className:"text-[12px]",children:[c===u.Q.READY&&"Ready for ".concat(t.ticker," withdraw"),c===u.Q.PENDING&&(A||"Withdraw will be processed within approximately".concat(p?" ".concat((0,m.Lk)(p),"mins"):"...")),c===u.Q.SUCCESS&&"".concat(t.ticker," reached your wallet by Maya block ").concat(I),c===u.Q.FAILED&&"Failed to outbound"]}),(0,a.jsxs)("div",{className:"text-3xl absolute left-0 top-0 p-1 rounded-full -translate-x-1/2 -translate-y-2 bg-white dark:bg-[#0A0C0F]",children:[c===u.Q.READY&&(0,a.jsx)(i.JO,{icon:"f7:tag-circle"}),c===u.Q.PENDING&&(0,a.jsx)("div",{className:"spin",children:(0,a.jsx)(i.JO,{icon:"mingcute:loading-fill"})}),c===u.Q.SUCCESS&&(0,a.jsx)(i.JO,{icon:"tabler:check",className:"text-blue-200"}),c===u.Q.FAILED&&(0,a.jsx)(i.JO,{icon:"openmoji:warning",className:"text-blue-200"})]})]})]})},w=e=>{let{token:t,hash:s,stepper:l,setStepper:n}=e,[c,d]=r.useState(u.Q.READY),[h,f]=r.useState(0),[p,N]=r.useState(0),[v,w]=r.useState(void 0),[S,j]=r.useState(""),y=r.useRef(u.Q.PENDING),[A,k]=r.useState(""),[E,C]=r.useState("Processing request in MAYA"),[I,Q]=r.useState(void 0),D=r.useRef(null),{showNotification:F}=(0,g.Z)(),M=async e=>{for(let e=0;e<10;e++){try{let e=await m.zG[t.chain].getTransaction(S);console.log(e),w(e);break}catch(e){}await (0,m._v)(5e3)}};r.useEffect(()=>{(null==v?void 0:v.confirmed)&&(F("Withdraw Success",u.Q.SUCCESS),d(u.Q.SUCCESS))},[v]),r.useEffect(()=>{S&&M(S)},[S]);let Y=async e=>{try{let{data:{actions:s}}=await o.Z.get("https://midgard.mayachain.info/v2/actions?txid=".concat(e));if(0===s.length)throw"no actoins";let a=s[s.length-1];if("refund"===a.type)F("Refund, ".concat(a.metadata.refund.reason),"error"),d(u.Q.FAILED),n(u.Q.FAILED);else if("withdraw"===a.type&&y.current===u.Q.PENDING){console.log(a);let e=(0,m.cG)(t.chain);Q(a.height),C("".concat(t.ticker,"/CACAO is on its way to your wallet")),k("".concat(t.ticker,"/CACAO is on its way to your wallet via maya block ").concat(a.height,", it will arrive within approximately ").concat((0,m.Lk)(e),"mins")),N(e),f(e),y.current=u.Q.SUCCESS}else if("withdraw"===a.type&&a.status===u.Q.SUCCESS){if(2!==a.out.length)throw"not yet outbound transaction";console.log("withdraw success"),j(a.out[1].txID),k("".concat(t.ticker,"/CACAO reached by maya block ").concat(a.height))}}catch(e){console.log("@Ex get transaction from MAYA ---->",e)}};r.useEffect(()=>{h<=0&&clearInterval(D.current)},[h]),r.useEffect(()=>{if(c===u.Q.PENDING&&s){let e=1;D.current=setInterval(async()=>{f(e=>e-1),e%5==0&&await Y(s),e++},1e3)}else c===u.Q.SUCCESS&&n(u.Q.SUCCESS);return()=>{clearInterval(D.current)}},[c,s]),r.useEffect(()=>{"maya"===l&&(d(u.Q.PENDING),f(30),N(30))},[l]);let L=r.useMemo(()=>{let e=Math.floor(h/3600),t=Math.floor(h%3600/60),s=h%3600%60;return e=e<10?"0"+e:e,t=t<10?"0"+t:t,s=s<10?"0"+s:s,"".concat(e,":").concat(t,":").concat(s)},[h]);return(0,a.jsxs)("div",{className:"w-full text-left flex text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"w-1/2 flex flex-col items-end px-7",children:[c===u.Q.READY&&"Queued",c===u.Q.PENDING&&(0,a.jsx)("span",{className:"dark:text-gray-200",children:L}),c===u.Q.SUCCESS&&v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"dark:text-gray-200",children:(0,m.bD)(v.blocktime)}),(0,a.jsxs)("div",{className:"text-[12px] flex gap-1 items-center pb-1",children:[(0,a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(x.KL[t.chain].explorer+"/tx/"+S,"_blank"),children:(0,m.Hp)(S,8)}),(0,a.jsx)(b.Z,{text:S,size:18})]}),v.blockHeight&&(0,a.jsxs)("div",{className:"text-[12px]",children:["block: ",v.blockHeight]}),v.confirmations&&(0,a.jsxs)("div",{className:"text-[12px]",children:["confimrations: ",v.confirmations]}),v.fee>0&&(0,a.jsxs)("div",{className:"text-[12px]",children:["fee: ",v.fee,t.ticker]})]})]}),(0,a.jsxs)("div",{className:"relative w-1/2 flex flex-col items-start px-7 min-h-[100px]",children:[(0,a.jsxs)("span",{className:"dark:text-gray-200",children:[c===u.Q.READY&&"Process in MAYA",c===u.Q.PENDING&&E,c===u.Q.SUCCESS&&"Payment Reached your wallet Successfully",c===u.Q.FAILED&&"MAYA Request Failed"]}),(0,a.jsxs)("span",{className:"text-[12px]",children:[c===u.Q.READY&&"Ready for ".concat(t.ticker,"/CACAO withdraw"),c===u.Q.PENDING&&(A||"Withdraw will be processed within approximately".concat(p?" ".concat((0,m.Lk)(p),"mins"):"...")),c===u.Q.SUCCESS&&"Payment reached your wallet by Maya block ".concat(I),c===u.Q.FAILED&&"Failed to outbound"]}),(0,a.jsxs)("div",{className:"text-3xl absolute left-0 top-0 p-1 rounded-full -translate-x-1/2 -translate-y-2 bg-white dark:bg-[#0A0C0F]",children:[c===u.Q.READY&&(0,a.jsx)(i.JO,{icon:"f7:tag-circle"}),c===u.Q.PENDING&&(0,a.jsx)("div",{className:"spin",children:(0,a.jsx)(i.JO,{icon:"mingcute:loading-fill"})}),c===u.Q.SUCCESS&&(0,a.jsx)(i.JO,{icon:"tabler:check",className:"text-blue-200"}),c===u.Q.FAILED&&(0,a.jsx)(i.JO,{icon:"openmoji:warning",className:"text-blue-200"})]})]})]})},S=e=>{let{setVisible:t,pool:s,amount:n,hash:c,mode:o}=e,[d,x]=r.useState("inbound");return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-[#0000003d] z-10 backdrop-filter backdrop-blur-[10px]"}),(0,a.jsx)("div",{className:"rounded-2xl z-50 fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-[1px] bg-gradient-to-tr from-[#ff6a0096] via-[#6d78b280] to-[#e02d6f86] mt-10 md:mt-0 w-full lg:w-[600px]",children:(0,a.jsxs)("div",{className:"rounded-2xl relative text-center p-4 bg-white dark:bg-[#0A0C0F] dark:text-white text-black pb-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center flex-col gap-1 my-3 mb-5",children:[d!==u.Q.SUCCESS&&d!==u.Q.FAILED?(0,a.jsx)("div",{className:"w-[40px] h-[40px] flex items-center justify-center",children:(0,a.jsx)(i.JO,{icon:"icomoon-free:spinner9",className:"text-2xl spin"})}):(0,a.jsx)(l.default,{src:"/favicon.svg",width:45,height:45,alt:"logo",priority:!0,className:"translate-x-1"}),(0,a.jsxs)("div",{className:"text-center",children:[d!==u.Q.SUCCESS&&d!==u.Q.FAILED&&"Withdraw Liquidity in Progress",d===u.Q.SUCCESS&&"Withdraw Liquidity Success",d===u.Q.FAILED&&"Withdraw Liquidity Failed"]})]}),(0,a.jsxs)("div",{className:"flex p-3 mb-4 text-sm text-gray-800 border-l-2 border-blue-300 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-gray-300",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("svg",{className:"flex-shrink-0 inline w-4 h-4 me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})})}),(0,a.jsx)("div",{className:"text-justify",children:"Withdraw Liquidity transactions seem to be taking longer than expected. Do not worry. Transaction times may vary depending on network conditions and MAYA Chain activity. If more than an hour have passed, please contact TurboTrades Support."})]}),(0,a.jsxs)("div",{className:"flex w-full gap-2 items-center rounded-lg justify-center dark:bg-[#111b20fd] p-3 mt-2 mb-7",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(l.default,{src:s.image||"/images/tokens/btc.webp",width:30,height:30,alt:"sun",className:"rounded-full",priority:!0}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,a.jsxs)("span",{children:["+",(0,m.Lg)(n)]}),(0,a.jsxs)("span",{className:"text-[11px]",children:["$",(0,m.Lg)(Number(n)*Number(null==s?void 0:s.assetPriceUSD))]})]})]}),o===u.I.SYM&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.JO,{icon:"flat-color-icons:currency-exchange",width:25}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(l.default,{src:"/images/tokens/cacao.png",width:30,height:30,alt:"sun",className:"rounded-2xl",priority:!0}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,a.jsxs)("span",{children:["+",(0,m.Lg)(Number(n)*Number(s.assetPrice))]}),(0,a.jsxs)("span",{className:"text-[11px]",children:["$",(0,m.Lg)(Number(n)*Number(null==s?void 0:s.assetPriceUSD))]})]})]})]})]}),(0,a.jsx)(N,{token:s,mode:o,hash:c,setStepper:x,stepper:d}),o===u.I.SYM?(0,a.jsx)(w,{token:s,hash:c,setStepper:x,stepper:d}):(0,a.jsx)(v,{token:s,hash:c,setStepper:x,stepper:d}),(0,a.jsx)("div",{className:"absolute top-4 right-4 text-white flex justify-between items-center",children:(0,a.jsx)("div",{children:(0,a.jsx)(i.JO,{onClick:()=>t(!1),icon:"ic:sharp-close",className:"cursor-pointer hover:opacity-50",width:30})})})]})})]})},j=()=>{let e=(0,h.useRouter)(),t=(0,h.useSearchParams)().get("asset"),s=(0,h.usePathname)(),[b,N]=r.useState(u.I.ASYM),[v,w]=r.useState(),[j,y]=r.useState(""),[A,k]=r.useState("0"),[E,C]=r.useState(!1),[I,Q]=r.useState(!1),[D,F]=r.useState(""),[M]=(0,c.useAtom)(d.OF),[Y]=(0,c.useAtom)(d.UZ),[L]=(0,c.useAtom)(d.xc),[P,U]=r.useState({asym:void 0,sym:void 0}),{xChainWithdrawLiquidity:O}=(0,f.Z)(),{xDefiWithdrawLiquidity:G}=(0,p.Z)(),{showNotification:R}=(0,g.Z)();r.useEffect(()=>{w(M.find(e=>e.asset===t))},[t,M]);let Z=r.useMemo(()=>{var e,t,s,a;let r=null==v?void 0:v.member.find(e=>0!==Number(e.runeAdded)),l=null==v?void 0:v.member.find(e=>0===Number(e.runeAdded)),i=null!==(e=null==v?void 0:v.units)&&void 0!==e?e:0,n=null!==(t=null==v?void 0:v.assetDepth)&&void 0!==t?t:0,c=null!==(s=null==r?void 0:r.liquidityUnits)&&void 0!==s?s:0,o=null!==(a=null==l?void 0:l.liquidityUnits)&&void 0!==a?a:0,d=Number(c*Number(n)/Number(i))/1e8,x=Number(2*o*Number(n)/Number(i))/1e8;if(b===u.I.ASYM){if(P.asym)return x;if(P.sym)return 2*d}else if(P.sym)return d},[P,b]);r.useEffect(()=>{if(v){let e=Number(j)*Number(null==v?void 0:v.assetPriceUSD);k((0,m.Lg)(e))}},[j,v]);let J=async e=>{console.log(e);try{let{data:s}=await o.Z.get("https://midgard.mayachain.info/v2/member/".concat(e)),a=s.pools.filter(e=>e.pool===t).find(e=>0!==Number(e.runeAdded)),r=s.pools.filter(e=>e.pool===t).find(e=>0===Number(e.runeAdded));console.log({_symPool:a,_asymPool:r}),U({asym:r,sym:a})}catch(e){}},T=e=>{y(String((isNaN(Z)?0:Z)*e))};r.useEffect(()=>{try{var e;if(!t)throw"no asset";let s=null===(e=Y[x._G[t].chain])||void 0===e?void 0:e.address;if(console.log(Y[x._G[t].chain]),!s)throw"no address";J(s)}catch(e){}},[t,Y]);let _=(r,l)=>(0,a.jsx)("button",{onClick:()=>e.push("".concat(l,"?asset=").concat(t)),className:"dark:bg-[#111214] bg-white text-[12px] py-[5px] px-3 rounded-lg text-gray-400 hover:dark:text-white hover:dark:bg-black hover:opacity-50 ".concat(s===l&&"border  dark:!text-white dark:border-[#cccccc3b] border-[#4b434370] !text-black"),children:r},r),H=async e=>{Q(!0);try{var t,s;C(!0);let{data:a}=await o.Z.get("https://mayanode.mayachain.info/mayachain/inbound_addresses"),r=a.find(e=>e.chain===(null==v?void 0:v.chain));if(!r)throw"None inbound address";let l=null===(t=Y[null==v?void 0:v.chain])||void 0===t?void 0:t.address,i=null===(s=Y.MAYA)||void 0===s?void 0:s.address;if(!l)throw"Please connect current chain.";if(!i)throw"Please connect Maya chain.";let n=x._G[null==v?void 0:v.asset].decimals;if((null==L?void 0:L.name)==="Keystore"){let t=await O({asset:String(null==v?void 0:v.asset),decimals:n,bps:String(e),recipient:r.address,address:l,mayaAddress:i,mode:b});F(t)}else if((null==L?void 0:L.name)==="XDEFI"){let t=await G({asset:String(null==v?void 0:v.asset),decimals:n,bps:String(e),recipient:r.address,address:l,mayaAddress:i,mode:b});F(t)}else null==L||L.name}catch(e){String(e).includes("insufficient funds for intrinsic transaction cost")?R("Insufficient funds for intrinsic transaction cost.","warning"):R(String(e),"warning"),F(u.Q.FAILED)}finally{C(!1)}};return(0,a.jsxs)("div",{className:"flex grow flex-col mt-2",children:[(0,a.jsx)("div",{className:"flex gap-1",children:x.Gv.map(e=>{let{label:t,url:s}=e;return _(t,s)})}),I&&v&&(0,a.jsx)(S,{setVisible:Q,pool:v,amount:j,mode:b,hash:D}),(0,a.jsx)("div",{className:"flex flex-col w-full justify-center items-center  mt-2 lg:mt-20",children:(0,a.jsx)("div",{className:"rounded-2xl p-[1px] bg-gradient-to-tr from-[#ff6a0096] via-[#6d78b280] to-[#e02d6f86] mt-10 md:mt-0 w-full lg:w-[750px]",children:(0,a.jsxs)("div",{className:"rounded-2xl p-3 pt-4 bg-white dark:bg-[#0A0C0F] dark:text-white",children:[(0,a.jsxs)("div",{className:"flex lg:gap-0 text-md gap-2 lg:space-x-2 lg:flex-row flex-col dark:bg-black bg-[#F7FAFD] dark:border-none border-[#DCE4EF] border p-2 rounded-2xl",children:[(0,a.jsx)("button",{onClick:()=>N(u.I.ASYM),className:"bg-[#0A0F14] text-sm p-3 w-full lg:w-1/2 hover:opacity-80 rounded-xl text-white ".concat(b===u.I.ASYM&&"bg-gradient-to-r from-[#FF6802] to-[#EE0E72]"),children:"SINGLE SIDE"}),(0,a.jsx)("button",{onClick:()=>N(u.I.SYM),className:"bg-[#0A0F14] text-sm p-3 w-full lg:w-1/2 hover:opacity-80 rounded-xl text-white ".concat(b===u.I.SYM&&"bg-gradient-to-r from-[#FF6802] to-[#EE0E72]"),children:"DOUBLE SIDE"})]}),(0,a.jsxs)("div",{className:"flex space-x-2 flex-col lg:flex-row",children:[(0,a.jsxs)("div",{className:"w-full p-4 dark:text-[#ffffffa1] dark:bg-[#030506] bg-[#F3F7FC] rounded-2xl mt-3 border border-[#DCE4EF] dark:border-none",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(n.Lt,{label:"",renderTrigger:()=>(0,a.jsxs)("div",{className:"flex gap-3 text-lg items-center",children:[(0,a.jsx)(l.default,{src:v?String(v.image):"/images/chains/btc.webp",width:45,height:45,alt:"sun",priority:!0,className:"rounded-xl"}),null==v?void 0:v.ticker]}),placement:"right",children:[(0,a.jsx)(n.Lt.Item,{children:"Liquidity Pools"}),(0,a.jsx)(n.Lt.Divider,{}),M.map(t=>(0,a.jsxs)(n.Lt.Item,{onClick:()=>e.push("".concat(s,"?asset=").concat(t.asset)),className:"flex gap-2 !text-sm",children:[(0,a.jsx)(l.default,{src:t.image,width:25,height:20,alt:"sun",priority:!0,className:"rounded-full"}),(0,a.jsx)("span",{children:t.ticker}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)(l.default,{src:"/images/tokens/cacao.png",width:25,height:20,priority:!0,alt:"cacao"}),(0,a.jsx)("span",{children:"CACAO"})]},t.asset))]}),(0,a.jsx)("button",{onClick:()=>T(.5),className:"rounded-xl dark:bg-[#0A0F14] aspect-auto p-[14px] bg-white dark:border-[#D1DBE8] border text-sm border-none text-[#A6ADB9] hover:opacity-80",children:"50%"})]}),(0,a.jsxs)("div",{className:"flex flex-col text-sm xs:flex-row gap-2 mt-3 justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col xs:flex-row items-center justify-between dark:bg-[#0a0f14] grow bg-white border border-[#DCE4EF] dark:border-[#3341558e] rounded-xl p-[6px]",children:[(0,a.jsx)("div",{className:"w-full xs:w-auto text-[#8A8D92] dark:text-[#B0B7C3] pl-3",children:"Amount:"}),(0,a.jsx)("input",{placeholder:"0.0",onChange:e=>{let t=e.target.value;0>Number(t)||isNaN(Number(t))||t.length>15||y(t)},value:j,className:"grow px-2 bg-transparent py-2 rounded-[12px] w-full outline-none border-none"}),(0,a.jsxs)("div",{className:"px-2 w-full xs:w-auto",children:[A,"$"]})]}),(0,a.jsx)("button",{onClick:()=>T(1),className:"rounded-xl dark:bg-[#0A0F14] aspect-auto p-3 bg-white dark:border-[#D1DBE8] border border-none text-[#A6ADB9] hover:opacity-80",children:"MAX"})]}),(0,a.jsxs)("div",{className:"text-sm text-[#6978A0] mt-2 px-2",children:[(0,a.jsx)("span",{children:"Available: "}),(0,a.jsxs)("span",{className:"dark:text-white text-black",children:[(0,m.Lg)(Z,3)," ",null==v?void 0:v.ticker]})]})]}),b===u.I.SYM&&(0,a.jsxs)("div",{className:"w-full p-4 dark:text-[#ffffffa1] dark:bg-[#030506] bg-[#F3F7FC] rounded-2xl mt-3 border border-[#DCE4EF] dark:border-none",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{className:"flex gap-3 text-lg items-center",children:[(0,a.jsx)(l.default,{src:"/images/tokens/cacao.png",width:45,height:45,alt:"sun",priority:!0}),"CACAO"]})}),(0,a.jsxs)("div",{className:"flex flex-col text-sm xs:flex-row gap-2 mt-3 justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col xs:flex-row items-center justify-between dark:bg-[#0a0f14] grow bg-white border border-[#DCE4EF] dark:border-[#3341558e] rounded-xl p-[6px]",children:[(0,a.jsx)("div",{className:"w-full xs:w-auto text-[#8A8D92] dark:text-[#B0B7C3] pl-3",children:"Amount:"}),(0,a.jsx)("input",{disabled:!0,value:Number(j)*Number(null==v?void 0:v.assetPrice),className:"grow px-2 bg-transparent py-2 rounded-[12px] w-full outline-none border-none"}),(0,a.jsxs)("div",{className:"px-2 w-full xs:w-auto",children:[A,"$"]})]}),(0,a.jsx)("button",{className:"rounded-xl dark:bg-[#0A0F14] aspect-auto p-3 bg-white dark:border-[#D1DBE8] w-14 border border-none text-[#A6ADB9] hover:opacity-80"})]}),(0,a.jsxs)("div",{className:"text-sm text-[#6978A0] mt-2 px-2",children:[(0,a.jsx)("span",{children:"Available: "}),(0,a.jsxs)("span",{className:"dark:text-white text-black",children:[(0,m.Lg)(Z*Number(null==v?void 0:v.assetPrice),3)," CACAO"]})]})]})]}),(0,a.jsx)("button",{onClick:()=>{let e={THOR:.05,KUJI:.02,DASH:.00125,BTC:1e-4,ETH:1e-4};if(!E)try{if(F(""),console.log({amount:j,availalbe:Z/1e8}),Number(j)>Z)throw"Insufficient withdraw amount.";if(Number(j)<e[String(null==v?void 0:v.chain)])throw"Too small transaction detected.(>".concat(e[String(null==v?void 0:v.chain)],")");let t=Math.floor(1e4*Number(j)/Z);console.log(t),H(t)}catch(e){R(String(e),"info")}},className:"text-white mt-4 rounded-xl bg-gradient-to-r from-[#FF6802] to-[#EE0E72] p-4 w-full cursor-pointer hover:opacity-50",children:E?(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,a.jsx)(i.JO,{icon:"icomoon-free:spinner9",className:"spin"}),"Processing..."]}):"Rmove Liquidity"})]})})})]})}},88691:function(e,t,s){"use strict";var a=s(3827),r=s(64090),l=s(37948),i=s(50772);t.Z=e=>{let{text:t,size:s}=e,[n,c]=r.useState(!1);return n?(0,a.jsx)(l.JO,{icon:"entypo:check",width:s,className:"cursor-pointer hover:opacity-75"}):(0,a.jsx)(l.JO,{onClick:()=>{try{(0,i.vQ)(t),c(!0),setTimeout(()=>{c(!1)},500)}catch(e){}},icon:"akar-icons:copy",width:s,className:"cursor-pointer hover:opacity-75"})}},2664:function(e,t,s){"use strict";var a=s(64090),r=s(82242);t.Z=()=>{let e=a.useContext(r.T4);if(e)return e;throw"can't read context"}}},function(e){e.O(0,[2420,9982,5501,9991,3860,4716,3193,2133,9376,313,2105,4350,8218,9751,4276,5457,9228,8933,3611,7948,703,7908,8757,2897,4154,2970,2971,8069,1744],function(){return e(e.s=74926)}),_N_E=e.O()}]);
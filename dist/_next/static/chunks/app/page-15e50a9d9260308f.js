(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{58774:function(e,t,n){Promise.resolve().then(n.bind(n,10261))},26981:function(e,t,n){"use strict";n.d(t,{Ht:function(){return A},Ge:function(){return E}});var r,a,o,s=n(64090);function i(e,t){if(!e)throw Error("Invariant failed")}var c=n(61064),l=n(46347),u=n(69774);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n){return(p=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&m(a,n.prototype),a}:Reflect.construct).apply(null,arguments)}function x(e){var t="function"==typeof Map?new Map:void 0;return(x=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,h(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)})(e)}function v(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function w(e){if("string"!=typeof e)return Number.isInteger(e)||i(!1),e;var t=Number.parseInt(e=e.replace(/^Ox/,"0x"),"0x"===e.trim().substring(0,2)?16:10);return Number.isNaN(t)&&i(!1),t}function g(e){"string"==typeof e&&e.match(/^(0x)?[0-9a-fA-F]{40}$/)||i(!1);for(var t="0x"===e.substring(0,2)?e:"0x"+e,n=t.toLowerCase().substring(2).split(""),r=new Uint8Array(40),a=0;a<40;a++)r[a]=n[a].charCodeAt(0);for(var o=(0,l.arrayify)((0,u.keccak256)(r)),s=0;s<40;s+=2)o[s>>1]>>4>=8&&(n[s]=n[s].toUpperCase()),(15&o[s>>1])>=8&&(n[s+1]=n[s+1].toUpperCase());var c="0x"+n.join("");return t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==c&&i(!1),c}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var b=function(e,t){try{var n=function(n){return Promise.resolve(Promise.all([void 0===t.chainId?e.getChainId():t.chainId,void 0===t.account?e.getAccount():t.account])).then(function(t){var r=t[0],a=t[1],o=w(r);if(e.supportedChainIds&&!e.supportedChainIds.includes(o))throw new j(o,e.supportedChainIds);var s=null===a?a:g(a);return{provider:n,chainId:o,account:s}})},r=void 0===t.provider;return Promise.resolve(r?Promise.resolve(e.getProvider()).then(n):n(t.provider))}catch(e){return Promise.reject(e)}},y=function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t}return f(t,e),t}(x(Error)),j=function(e){function t(t,n){var r;return(r=e.call(this)||this).name=r.constructor.name,r.message="Unsupported chain id: "+t+". Supported chain ids are: "+n+".",r}return f(t,e),t}(x(Error));function N(e,t){var n=t.type,r=t.payload;switch(n){case o.ACTIVATE_CONNECTOR:return{connector:r.connector,provider:r.provider,chainId:r.chainId,account:r.account,onError:r.onError};case o.UPDATE:var a=r.provider,s=r.chainId,i=r.account;return d({},e,void 0===a?{}:{provider:a},void 0===s?{}:{chainId:s},void 0===i?{}:{account:i});case o.UPDATE_FROM_ERROR:var c=r.provider,l=r.chainId,u=r.account;return d({},e,void 0===c?{}:{provider:c},void 0===l?{}:{chainId:l},void 0===u?{}:{account:u},{error:void 0});case o.ERROR:var f=r.error;return{connector:e.connector,error:f,onError:e.onError};case o.ERROR_FROM_ACTIVATION:return{connector:r.connector,error:r.error};case o.DEACTIVATE_CONNECTOR:return{}}}(r=o||(o={}))[r.ACTIVATE_CONNECTOR=0]="ACTIVATE_CONNECTOR",r[r.UPDATE=1]="UPDATE",r[r.UPDATE_FROM_ERROR=2]="UPDATE_FROM_ERROR",r[r.ERROR=3]="ERROR",r[r.ERROR_FROM_ACTIVATION=4]="ERROR_FROM_ACTIVATION",r[r.DEACTIVATE_CONNECTOR=5]="DEACTIVATE_CONNECTOR";var k="primary",C={},A=(C[k]&&i(!1),C[k]=(0,s.createContext)({activate:function(){try{return i(!1),Promise.resolve()}catch(e){return Promise.reject(e)}},setError:function(){i(!1)},deactivate:function(){i(!1)},active:!1}),C[k].displayName="Web3ReactContext - "+k,a=C[k].Provider,function(e){var t,n,r,i,l,u,f,h,m,p,x,k,C,A,E,S,O=e.getLibrary,P=e.children,_=(n=(t=(0,s.useReducer)(N,{}))[0],r=t[1],i=n.connector,l=n.provider,u=n.chainId,f=n.account,h=n.onError,m=n.error,p=(0,s.useRef)(-1),p.current+=1,x=(0,s.useCallback)(function(e,t,n){void 0===n&&(n=!1);try{var a=p.current,s=!1;return Promise.resolve(v(function(){return Promise.resolve(e.activate().then(function(e){return s=!0,e})).then(function(n){return Promise.resolve(b(e,n)).then(function(n){if(p.current>a)throw new y;r({type:o.ACTIVATE_CONNECTOR,payload:d({connector:e},n,{onError:t})})})})},function(a){if(a instanceof y)s&&e.deactivate();else if(n)throw s&&e.deactivate(),a;else t?(s&&e.deactivate(),t(a)):r({type:o.ERROR_FROM_ACTIVATION,payload:{connector:e,error:a}})}))}catch(e){return Promise.reject(e)}},[]),k=(0,s.useCallback)(function(e){r({type:o.ERROR,payload:{error:e}})},[]),C=(0,s.useCallback)(function(){r({type:o.DEACTIVATE_CONNECTOR})},[]),A=(0,s.useCallback)(function(e){try{if(!i)throw Error("This should never happen, it's just so Typescript stops complaining");var t=p.current;return Promise.resolve(function(){if(m)return v(function(){return Promise.resolve(b(i,e)).then(function(e){if(p.current>t)throw new y;r({type:o.UPDATE_FROM_ERROR,payload:e})})},function(e){e instanceof y||(h?h(e):r({type:o.ERROR,payload:{error:e}}))});var n=void 0===e.chainId?void 0:w(e.chainId);if(void 0!==n&&i.supportedChainIds&&!i.supportedChainIds.includes(n)){var a=new j(n,i.supportedChainIds);h?h(a):r({type:o.ERROR,payload:{error:a}})}else{var s="string"==typeof e.account?g(e.account):e.account;r({type:o.UPDATE,payload:{provider:e.provider,chainId:n,account:s}})}}())}catch(e){return Promise.reject(e)}},[i,m,h]),E=(0,s.useCallback)(function(e){h?h(e):r({type:o.ERROR,payload:{error:e}})},[h]),S=(0,s.useCallback)(function(){r({type:o.DEACTIVATE_CONNECTOR})},[]),(0,s.useEffect)(function(){return function(){i&&i.deactivate()}},[i]),(0,s.useEffect)(function(){return i&&i.on(c._.Update,A).on(c._.Error,E).on(c._.Deactivate,S),function(){i&&i.off(c._.Update,A).off(c._.Error,E).off(c._.Deactivate,S)}},[i,A,E,S]),{connector:i,provider:l,chainId:u,account:f,activate:x,setError:k,deactivate:C,error:m}),I=_.connector,T=_.provider,R=_.chainId,D=_.account,F=_.activate,Q=_.setError,U=_.deactivate,M=_.error,L=void 0!==I&&void 0!==R&&void 0!==D&&!M,G=(0,s.useMemo)(function(){return L&&void 0!==R&&Number.isInteger(R)&&I?O(T,I):void 0},[L,O,T,I,R]);return s.createElement(a,{value:{connector:I,library:G,chainId:R,account:D,activate:F,setError:Q,deactivate:U,active:L,error:M}},P)});function E(e){var t;return(0,s.useContext)((void 0===(t=e)&&(t=k),Object.keys(C).includes(t)||i(!1),C[t]))}},26559:function(e,t,n){"use strict";n.d(t,{_k:function(){return v}});var r=n(70094),a=n(61064),o=function(e){function t(t){var n,r=(void 0===t?{}:t).supportedChainIds;return(n=e.call(this)||this).supportedChainIds=r,n}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e;var n=t.prototype;return n.emitUpdate=function(e){this.emit(a._.Update,e)},n.emitError=function(e){this.emit(a._.Error,e)},n.emitDeactivate=function(){this.emit(a._.Deactivate)},t}(r.EventEmitter);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,n){return(u=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&l(a,n.prototype),a}:Reflect.construct).apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)})(e)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function m(e){return e.hasOwnProperty("result")?e.result:e}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var p=function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t.message="No Ethereum provider was found on window.ethereum.",t}return i(t,e),t}(d(Error)),x=function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t.message="The user rejected the request.",t}return i(t,e),t}(d(Error)),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleNetworkChanged=n.handleNetworkChanged.bind(f(n)),n.handleChainChanged=n.handleChainChanged.bind(f(n)),n.handleAccountsChanged=n.handleAccountsChanged.bind(f(n)),n.handleClose=n.handleClose.bind(f(n)),n}i(t,e);var n=t.prototype;return n.handleChainChanged=function(e){this.emitUpdate({chainId:e,provider:window.ethereum})},n.handleAccountsChanged=function(e){0===e.length?this.emitDeactivate():this.emitUpdate({account:e[0]})},n.handleClose=function(e,t){this.emitDeactivate()},n.handleNetworkChanged=function(e){this.emitUpdate({chainId:e,provider:window.ethereum})},n.activate=function(){try{var e,t=function(t){if(n)return t;function r(){return s({provider:window.ethereum},e?{account:e}:{})}var a=function(){if(!e)return Promise.resolve(window.ethereum.enable().then(function(e){return e&&m(e)[0]})).then(function(t){e=t})}();return a&&a.then?a.then(r):r(a)},n=!1;if(!window.ethereum)throw new p;window.ethereum.on&&(window.ethereum.on("chainChanged",this.handleChainChanged),window.ethereum.on("accountsChanged",this.handleAccountsChanged),window.ethereum.on("close",this.handleClose),window.ethereum.on("networkChanged",this.handleNetworkChanged)),window.ethereum.isMetaMask&&(window.ethereum.autoRefreshOnNetworkChange=!1);var r=h(function(){return Promise.resolve(window.ethereum.send("eth_requestAccounts").then(function(e){return m(e)[0]})).then(function(t){e=t})},function(e){if(4001===e.code)throw new x});return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(e){return Promise.reject(e)}},n.getProvider=function(){try{return Promise.resolve(window.ethereum)}catch(e){return Promise.reject(e)}},n.getChainId=function(){try{var e,t=function(){function t(){if(!e)try{e=m(window.ethereum.send({method:"net_version"}))}catch(e){}return e||(e=window.ethereum.isDapper?m(window.ethereum.cachedResults.net_version):window.ethereum.chainId||window.ethereum.netVersion||window.ethereum.networkVersion||window.ethereum._chainId),e}var n=function(){if(!e){var t=h(function(){return Promise.resolve(window.ethereum.send("net_version").then(m)).then(function(t){e=t})},function(){});if(t&&t.then)return t.then(function(){})}}();return n&&n.then?n.then(t):t(n)};if(!window.ethereum)throw new p;var n=h(function(){return Promise.resolve(window.ethereum.send("eth_chainId").then(m)).then(function(t){e=t})},function(){});return Promise.resolve(n&&n.then?n.then(t):t(n))}catch(e){return Promise.reject(e)}},n.getAccount=function(){try{var e,t=function(){function t(){return e||(e=m(window.ethereum.send({method:"eth_accounts"}))[0]),e}var n=function(){if(!e){var t=h(function(){return Promise.resolve(window.ethereum.enable().then(function(e){return m(e)[0]})).then(function(t){e=t})},function(){});if(t&&t.then)return t.then(function(){})}}();return n&&n.then?n.then(t):t(n)};if(!window.ethereum)throw new p;var n=h(function(){return Promise.resolve(window.ethereum.send("eth_accounts").then(function(e){return m(e)[0]})).then(function(t){e=t})},function(){});return Promise.resolve(n&&n.then?n.then(t):t(n))}catch(e){return Promise.reject(e)}},n.deactivate=function(){window.ethereum&&window.ethereum.removeListener&&(window.ethereum.removeListener("chainChanged",this.handleChainChanged),window.ethereum.removeListener("accountsChanged",this.handleAccountsChanged),window.ethereum.removeListener("close",this.handleClose),window.ethereum.removeListener("networkChanged",this.handleNetworkChanged))},n.isAuthorized=function(){try{if(!window.ethereum)return Promise.resolve(!1);return Promise.resolve(h(function(){return Promise.resolve(window.ethereum.send("eth_accounts").then(function(e){return m(e).length>0}))},function(){return!1}))}catch(e){return Promise.reject(e)}},t}(o)},61064:function(e,t,n){"use strict";var r,a;n.d(t,{_:function(){return r}}),(a=r||(r={})).Update="Web3ReactUpdate",a.Error="Web3ReactError",a.Deactivate="Web3ReactDeactivate"},24232:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var r=n(24930),a=n.n(r)},24930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=n(86921);n(3827),n(64090);let a=r._(n(84795));function o(e,t){let n={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};return"function"==typeof e&&(n.loader=e),(0,a.default)({...n,...t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},19721:function(e,t,n){"use strict";function r(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),n(99775)},84795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let r=n(3827),a=n(64090),o=n(19721);function s(e){var t;return{default:null!=(t=null==e?void 0:e.default)?t:e}}let i={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},c=function(e){let t={...i,...e},n=(0,a.lazy)(()=>t.loader().then(s)),c=t.loading;function l(e){let s=c?(0,r.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=t.ssr?(0,r.jsx)(n,{...e}):(0,r.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(n,{...e})});return(0,r.jsx)(a.Suspense,{fallback:s,children:i})}return l.displayName="LoadableComponent",l}},10261:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(3827),a=n(64090),o=n(78757),s=n(24232),i=n(7908),c=n(20703),l=n(37948),u=e=>{var t,n,a,o;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{onClick:e.onCancel,className:"fixed top-0 left-0 right-0 bottom-0 bg-[#0000003d] z-10 backdrop-filter backdrop-blur-[10px]"}),(0,r.jsxs)("div",{className:"fixed w-full px-3 sm:w-[500px] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20",children:[(0,r.jsxs)("div",{className:"relative dark:text-white px-10 py-6 text-center dark:bg-[#232E42] bg-white w-full rounded-2xl",children:[(0,r.jsx)("div",{className:"text-left w-full",children:(0,r.jsxs)("div",{className:"flex gap-3 items-center py-2 mt-2",children:[(0,r.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,r.jsx)(c.default,{src:e.fromToken?String(e.fromToken.image):"/images/tokens/cacao.png",width:35,height:35,alt:"sun",className:"rounded-full",priority:!0}),null===(t=e.fromToken)||void 0===t?void 0:t.ticker]}),(0,r.jsx)(l.JO,{icon:"tdesign:swap"}),(0,r.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,r.jsx)(c.default,{src:e.toToken?String(e.toToken.image):"/images/tokens/cacao.png",width:35,height:35,alt:"sun",className:"rounded-full",priority:!0}),null===(n=e.toToken)||void 0===n?void 0:n.ticker]})]})}),(0,r.jsxs)("div",{className:"text-left w-full mt-2 text-sm flex gap-1 items-center",children:[(0,r.jsx)(l.JO,{icon:"mdi:map-marker-question-outline",width:25})," Do you agree to swap ",e.amount," ",null===(a=e.fromToken)||void 0===a?void 0:a.ticker," to ",null===(o=e.toToken)||void 0===o?void 0:o.ticker," ?"]}),(0,r.jsx)("div",{className:"text-sm mt-2 text-left",children:"( Please make sure you have sufficient swap fee )"}),(0,r.jsxs)("div",{className:"text-left w-full mt-6 flex justify-between gap-1 flex-col xs:gap-3 xs:flex-row",children:[(0,r.jsxs)("button",{onClick:e.onOK,className:"flex gap-1 justify-center items-center bg-[#3C829B] m-auto mt-1 text-white dark:text-[#6A84A0] hover:opacity-50 hover:dark:text-white dark:text-[#ffffff86]  text-sm rounded-2xl w-full px-4 py-2 cursor-pointer",children:[(0,r.jsx)(l.JO,{icon:"iconoir:coins-swap",width:20,className:"text-[#70dd5a]"})," Swap"]}),(0,r.jsxs)("button",{onClick:e.onCancel,className:"flex gap-1 justify-center items-center border dark:border-[#54575a] m-auto mt-1 text-[#6A84A0] hover:text-black hover:dark:text-white  text-sm rounded-2xl w-full px-4 py-2 bg-transparent cursor-pointer",children:[(0,r.jsx)(l.JO,{icon:"mage:cancel",width:20})," Cancel"]})]})]}),(0,r.jsxs)("div",{className:"absolute -top-8 text-white flex w-full justify-between items-center px-2 pr-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-50",children:[(0,r.jsx)(l.JO,{icon:"mage:message-question-mark-round-fill",width:"1.7rem",height:"1.7rem",className:"text-[#70dd5a]"})," ",(0,r.jsx)("span",{className:"text-lg font-bold",children:"Swap Confirm"})]}),(0,r.jsx)("div",{children:(0,r.jsx)(l.JO,{onClick:e.onCancel,icon:"ic:sharp-close",className:"cursor-pointer hover:opacity-50",width:30})})]})]})]})},d=n(9683),f=n(43726),h=n(50568),m=n(50772),p=n(67248),x=n(2664),v=n(34294),w=n(24118),g=()=>{let[e,t]=(0,o.useAtom)(h.ic),[n]=(0,o.useAtom)(h.AC),[a]=(0,o.useAtom)(h.z3),[s]=(0,o.useAtom)(h.Lg),i=()=>{t(!1)},u=e=>{window&&window.open(e,"_blank")};return(0,r.jsxs)("div",{className:"".concat(!e&&"hidden"),children:[(0,r.jsx)("div",{onClick:i,className:"fixed top-0 left-0 right-0 bottom-0 bg-[#0000003d] z-10 backdrop-filter backdrop-blur-[10px]"}),(0,r.jsxs)("div",{className:"fixed w-full px-3 sm:w-[500px] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20",children:[(0,r.jsxs)("div",{className:"relative dark:text-white px-10 py-6 text-center dark:bg-[#232E42] bg-white w-full rounded-2xl",children:[(0,r.jsxs)("div",{className:"text-left w-full",children:[(0,r.jsxs)("div",{className:"px-2 py-2 flex gap-2 items-center",children:[(0,r.jsx)(l.JO,{icon:"uil:comment-info",width:30})," Transaction Sent Successfully."]}),a&&s&&(0,r.jsxs)("div",{className:"flex gap-3 items-center px-2 py-2",children:[(0,r.jsx)(c.default,{src:(null==a?void 0:a.image)+"",width:30,height:30,alt:"sun",className:"rounded-full"}),(0,r.jsx)(l.JO,{icon:"tdesign:swap"}),(0,r.jsx)(c.default,{src:(null==s?void 0:s.image)+"",width:30,height:30,alt:"sun",className:"rounded-full"})]}),(0,r.jsx)("div",{className:"px-2 text-cyan-400 text-sm",children:(0,r.jsx)("a",{href:n,target:"_blank",className:"underline",children:(0,m.W3)(n)})}),(0,r.jsx)("div",{className:"px-2 pt-2",children:"Will take for a while..."})]}),(0,r.jsx)("div",{className:"text-left w-full mt-6 flex justify-between gap-1 flex-col xs:gap-3 xs:flex-row",children:(0,r.jsxs)("button",{className:"flex gap-1 justify-center items-center border dark:border-[#54575a] m-auto mt-1 text-[#6A84A0] hover:text-black hover:dark:text-white  text-sm rounded-2xl w-full px-4 py-2 bg-transparent cursor-pointer",onClick:()=>u(n),children:["Go to transaction ",(0,r.jsx)(l.JO,{icon:"noto-v1:link",width:20})]})})]}),(0,r.jsxs)("div",{className:"absolute -top-8 text-white flex w-full justify-between items-center px-2 pr-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-50",children:[(0,r.jsx)(l.JO,{icon:"bitcoin-icons:transactions-filled",width:30})," ",(0,r.jsx)("span",{className:"text-lg font-bold",children:"Transaction Sent"})]}),(0,r.jsx)("div",{onClick:i,children:(0,r.jsx)(l.JO,{icon:"ic:sharp-close",className:"cursor-pointer hover:opacity-50",width:30})})]})]})]})},b=n(88691),y=e=>{let{token:t,hash:n,setStepper:o}=e,[s,i]=a.useState(f.Q.PENDING),[c,u]=a.useState(0),[h,p]=a.useState(0),[x,v]=a.useState(void 0),w=a.useRef(null);a.useEffect(()=>{(null==x?void 0:x.confirmed)&&i(f.Q.SUCCESS)},[x]);let g=async e=>{try{let n=await m.zG[t.chain].getTransaction(e);v(n)}catch(e){console.log("@Ex get transaction from MAYA ---->",e)}};a.useEffect(()=>{if(n===f.Q.FAILED)i(f.Q.FAILED),o(f.Q.FAILED);else if(n){let e=(0,m.Hy)(t.chain);p(e),u(e),i(f.Q.PENDING)}},[n]),a.useEffect(()=>{c<=0&&clearInterval(w.current)},[c]),a.useEffect(()=>{if(s===f.Q.PENDING&&n){let e=1;w.current=setInterval(async()=>{u(e=>e-1),e%5==0&&await g(n),e++},1e3)}else s===f.Q.SUCCESS&&o("maya");return()=>{clearInterval(w.current)}},[s,n]);let y=a.useMemo(()=>{let e=Math.floor(c/3600),t=Math.floor(c%3600/60),n=c%3600%60;return e=e<10?"0"+e:e,t=t<10?"0"+t:t,n=n<10?"0"+n:n,"".concat(e,":").concat(t,":").concat(n)},[c]);return(0,r.jsxs)("div",{className:"w-full text-left flex text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("div",{className:"w-1/2 flex flex-col items-end px-7",children:[s===f.Q.READY&&"Queued",s===f.Q.PENDING&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"dark:text-gray-200",children:y}),n&&(0,r.jsxs)("div",{className:"text-[12px] flex gap-1 items-center",children:[(0,r.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(d.KL[t.chain].explorer+"/tx/"+n,"_blank"),children:(0,m.Hp)(n,8)}),(0,r.jsx)(b.Z,{text:n,size:18})]})]}),s===f.Q.SUCCESS&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"dark:text-gray-200",children:(0,m.bD)(null==x?void 0:x.blocktime)}),n&&(0,r.jsxs)("div",{className:"text-[12px] flex gap-1 items-center",children:[(0,r.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(d.KL[t.chain].explorer+"/tx/"+n,"_blank"),children:(0,m.Hp)(n,8)}),(0,r.jsx)(b.Z,{text:n,size:18})]})]})]}),(0,r.jsxs)("div",{className:"relative w-1/2 flex flex-col items-start px-7 dark:border-gray-400 min-h-[150px] border-l ".concat("success"===s&&"!border-blue-200"),children:[(0,r.jsxs)("span",{className:"dark:text-gray-200",children:[s===f.Q.READY&&"Send ".concat(t.ticker," to Inbound vault"),s===f.Q.PENDING&&"Sending ".concat(t.ticker," to Inbound vault"),s===f.Q.SUCCESS&&"Sent ".concat(t.ticker," to Inbound vault Successfully"),s===f.Q.FAILED&&"".concat(t.chain," Transaction Failed")]}),(0,r.jsxs)("span",{className:"text-[12px]",children:[s===f.Q.READY&&"Ready ".concat(t.ticker," to Inbound Vault."),s===f.Q.PENDING&&"".concat(t.ticker," will reach Inbound Vault within approximately").concat(h?" ".concat((0,m.Lk)(h),"mins (waiting for confirmation)"):"..."),s===f.Q.SUCCESS&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"pb-1",children:"".concat(t.ticker," reached MAYA Inbound vault by")}),x&&(0,r.jsxs)("div",{children:["block: ",x.blockHeight]}),(null==x?void 0:x.confirmations)&&(0,r.jsxs)("div",{children:["confimrations: ",x.confirmations]}),(null==x?void 0:x.fee)&&(0,r.jsxs)("div",{children:["fee: ",x.fee,t.ticker]})]}),s===f.Q.FAILED&&"Failed to send ".concat(t.asset)]}),(0,r.jsxs)("div",{className:"text-3xl absolute left-0 top-0 p-1 rounded-full -translate-x-1/2 -translate-y-2 bg-white dark:bg-[#0A0C0F]",children:[s===f.Q.READY&&(0,r.jsx)(l.JO,{icon:"f7:tag-circle"}),s===f.Q.PENDING&&(0,r.jsx)("div",{className:"spin",children:(0,r.jsx)(l.JO,{icon:"mingcute:loading-fill"})}),s===f.Q.SUCCESS&&(0,r.jsx)(l.JO,{icon:"tabler:check",className:"text-blue-200"}),s===f.Q.FAILED&&(0,r.jsx)(l.JO,{icon:"openmoji:warning",className:"text-blue-200"})]})]})]})},j=e=>{let{toToken:t,fromToken:n,hash:o,stepper:s,setStepper:c}=e,[u,h]=a.useState(f.Q.READY),[x,v]=a.useState(0),[w,g]=a.useState(0),[y,j]=a.useState(void 0),[N,k]=a.useState(""),C=a.useRef(f.Q.PENDING),[A,E]=a.useState(""),[S,O]=a.useState("Processing request in MAYA"),[P,_]=a.useState(void 0),[I,T]=a.useState(),R=a.useRef(null),{showNotification:D}=(0,p.Z)(),F=async e=>{if("MAYA.CACAO"===I.out[0].coins[0].asset)j({hash:e,url:d.KL.MAYA.explorer+"/tx/"+e,confirmed:!0,blocktime:Number(I.date)/1e6,blockHeight:I.height,gas:0,fee:0});else for(let e=0;e<10;e++){try{let e=await m.zG[t.chain].getTransaction(N);console.log(e),j(e);break}catch(e){}await (0,m._v)(5e3)}};a.useEffect(()=>{(null==y?void 0:y.confirmed)&&(D("Swap Success",f.Q.SUCCESS),h(f.Q.SUCCESS))},[y]),a.useEffect(()=>{N&&F(N)},[N]);let Q=async e=>{try{let{data:{actions:n}}=await i.Z.get("https://midgard.mayachain.info/v2/actions?txid=".concat(e));if(0===n.length)throw"no actoins";let r=n[n.length-1];if("refund"===r.type)h(f.Q.FAILED),c(f.Q.FAILED);else if("swap"===r.type&&C.current===f.Q.PENDING){console.log(r);let e=(0,m.cG)(t.chain);_(r.height),O("".concat(t.ticker," is on its way to your wallet")),E("".concat(t.ticker," is on its way to your wallet via maya block ").concat(r.height,", it will arrive within approximately ").concat((0,m.Lk)(e),"mins")),g(e),v(e),C.current=f.Q.SUCCESS}else"swap"===r.type&&r.status===f.Q.SUCCESS&&(k(r.out[0].txID?r.out[0].txID:o),T(r))}catch(e){console.log("@Ex get transaction from MAYA ---->",e)}};a.useEffect(()=>{x<=0&&clearInterval(R.current)},[x]),a.useEffect(()=>{if(u===f.Q.PENDING&&o){let e=1;R.current=setInterval(async()=>{v(e=>e-1),e%5==0&&await Q(o),e++},1e3)}else u===f.Q.SUCCESS&&c(f.Q.SUCCESS);return()=>{clearInterval(R.current)}},[u,o]),a.useEffect(()=>{"maya"===s&&(h(f.Q.PENDING),v(30),g(30))},[s]);let U=a.useMemo(()=>{let e=Math.floor(x/3600),t=Math.floor(x%3600/60),n=x%3600%60;return e=e<10?"0"+e:e,t=t<10?"0"+t:t,n=n<10?"0"+n:n,"".concat(e,":").concat(t,":").concat(n)},[x]);return(0,r.jsxs)("div",{className:"w-full text-left flex text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("div",{className:"w-1/2 flex flex-col items-end px-7",children:[u===f.Q.READY&&"Queued",u===f.Q.PENDING&&(0,r.jsx)("span",{className:"dark:text-gray-200",children:U}),u===f.Q.SUCCESS&&y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"dark:text-gray-200",children:(0,m.bD)(y.blocktime)}),(0,r.jsxs)("div",{className:"text-[12px] flex gap-1 items-center pb-1",children:[(0,r.jsx)("span",{className:"cursor-pointer hover:underline",onClick:()=>window.open(d.KL[t.chain].explorer+"/tx/"+N,"_blank"),children:(0,m.Hp)(N,8)}),(0,r.jsx)(b.Z,{text:N,size:18})]}),y.blockHeight&&(0,r.jsxs)("div",{className:"text-[12px]",children:["block: ",y.blockHeight]}),y.confirmations&&(0,r.jsxs)("div",{className:"text-[12px]",children:["confimrations: ",y.confirmations]}),y.fee>0&&(0,r.jsxs)("div",{className:"text-[12px]",children:["fee: ",y.fee,t.ticker]})]})]}),(0,r.jsxs)("div",{className:"relative w-1/2 flex flex-col items-start px-7 min-h-[100px]",children:[(0,r.jsxs)("span",{className:"dark:text-gray-200",children:[u===f.Q.READY&&"Process in MAYA",u===f.Q.PENDING&&S,u===f.Q.SUCCESS&&"".concat(t.ticker," Reached Successfully"),u===f.Q.FAILED&&"MAYA Request Failed"]}),(0,r.jsxs)("span",{className:"text-[12px]",children:[u===f.Q.READY&&"Ready for ".concat(n.ticker,"/").concat(t.ticker," swap"),u===f.Q.PENDING&&(A||"MAYA Swap will be processed within approximately".concat(w?" ".concat((0,m.Lk)(w),"mins"):"...")),u===f.Q.SUCCESS&&"Payment reached your wallet by Maya block ".concat(P),u===f.Q.FAILED&&"Failed to outbound"]}),(0,r.jsxs)("div",{className:"text-3xl absolute left-0 top-0 p-1 rounded-full -translate-x-1/2 -translate-y-2 bg-white dark:bg-[#0A0C0F]",children:[u===f.Q.READY&&(0,r.jsx)(l.JO,{icon:"f7:tag-circle"}),u===f.Q.PENDING&&(0,r.jsx)("div",{className:"spin",children:(0,r.jsx)(l.JO,{icon:"mingcute:loading-fill"})}),u===f.Q.SUCCESS&&(0,r.jsx)(l.JO,{icon:"tabler:check",className:"text-blue-200"}),u===f.Q.FAILED&&(0,r.jsx)(l.JO,{icon:"openmoji:warning",className:"text-blue-200"})]})]})]})},N=e=>{let{fromToken:t,toToken:n,fromAmount:o,toAmount:s,hash:i,setVisible:u}=e,[d,h]=a.useState("inbound"),[p,x]=a.useState("Swap Transfer in Progress");return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-[#0000003d] z-10 backdrop-filter backdrop-blur-[10px]"}),(0,r.jsx)("div",{className:"rounded-2xl z-50 fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-[1px] bg-gradient-to-tr from-[#ff6a0096] via-[#6d78b280] to-[#e02d6f86] mt-10 md:mt-0 w-full lg:w-[600px]",children:(0,r.jsxs)("div",{className:"rounded-2xl relative text-center p-4 bg-white dark:bg-[#0A0C0F] dark:text-white text-black pb-10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center flex-col gap-1 my-3 mb-5",children:[d!==f.Q.SUCCESS&&d!==f.Q.FAILED?(0,r.jsx)("div",{className:"w-[40px] h-[40px] flex items-center justify-center",children:(0,r.jsx)(l.JO,{icon:"icomoon-free:spinner9",className:"text-2xl spin"})}):(0,r.jsx)(c.default,{src:"/favicon.svg",width:45,height:45,alt:"logo",priority:!0,className:"translate-x-1"}),(0,r.jsxs)("div",{className:"text-center",children:[d!==f.Q.SUCCESS&&d!==f.Q.FAILED&&"Swap Transfer in Progress",d===f.Q.SUCCESS&&"Swap Success",d===f.Q.FAILED&&"Swap Failed"]})]}),(0,r.jsxs)("div",{className:"flex p-3 mb-4 text-sm text-gray-800 border-l-2 border-blue-300 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-gray-300",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)("svg",{className:"flex-shrink-0 inline w-4 h-4 me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})})}),(0,r.jsx)("div",{className:"text-justify",children:"Swap transfers seem to be taking longer than expected. Do not worry. Transfer times may vary depending on network conditions and MAYA Chain activity."})]}),(0,r.jsxs)("div",{className:"flex w-full gap-2 items-center rounded-lg justify-center dark:bg-[#111b20fd] p-3 mt-2 mb-7",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(c.default,{src:t.image||"/images/tokens/btc.webp",width:30,height:30,alt:"sun",className:"rounded-full",priority:!0}),(0,r.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,r.jsxs)("span",{children:["-",o]}),(0,r.jsxs)("span",{className:"text-[11px]",children:["$",(0,m.Lg)(Number(o)*Number(null==t?void 0:t.assetPriceUSD))]})]})]}),(0,r.jsx)(l.JO,{icon:"tdesign:swap"}),(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(c.default,{src:n.image||"/images/tokens/btc.webp",width:30,height:30,alt:"sun",className:"rounded-full",priority:!0}),(0,r.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,r.jsxs)("span",{children:["+",s]}),(0,r.jsxs)("span",{className:"text-[11px]",children:["$",(0,m.Lg)(Number(s)*Number(null==n?void 0:n.assetPriceUSD))]})]})]})]}),(0,r.jsx)(y,{token:t,hash:i,setStepper:h,stepper:d}),(0,r.jsx)(j,{fromToken:t,toToken:n,hash:i,setStepper:h,stepper:d}),(0,r.jsx)("div",{className:"absolute top-4 right-4 text-white flex justify-between items-center",children:(0,r.jsx)("div",{children:(0,r.jsx)(l.JO,{onClick:()=>u(!1),icon:"ic:sharp-close",className:"cursor-pointer hover:opacity-50",width:30})})})]})})]})},k=n(47907);let C=(0,s.default)(()=>n.e(2547).then(n.bind(n,92547)),{loadableGenerated:{webpack:()=>[92547]}});var A=()=>{let[e,t]=(0,o.useAtom)(h.Jc),[n,s]=(0,o.useAtom)(h.ab),[b,y]=(0,o.useAtom)(h.a7),[j]=(0,o.useAtom)(h.xc),[A,E]=a.useState(!1),[S,O]=a.useState(!1),[P]=(0,o.useAtom)(h.UZ),[_,I]=(0,o.useAtom)(h.z3),[T,R]=(0,o.useAtom)(h.Lg),[D,F]=a.useState(""),[Q,U]=a.useState(""),[M,L]=a.useState(""),[G,H]=a.useState(!1),{showNotification:J}=(0,p.Z)(),{doMayaSwap:Y}=(0,x.Z)(),{doXDefiSwap:Z}=(0,v.Z)(),{doMetamaskSwap:V}=(0,w.Z)(),z=(0,k.useRouter)(),B=(0,k.useSearchParams)(),q=B.get("from"),W=B.get("to");(0,k.usePathname)();let[K,$]=a.useState(!1),[X,ee]=a.useState(!1),[et,en]=a.useState(!1),[er,ea]=a.useState("");a.useEffect(()=>{(async function(){try{let e={},n=await i.Z.get("https://midgard.mayachain.info/v2/stats"),r={annualPercentageRate:"",asset:"MAYA.CACAO",assetDepth:"",assetPrice:"",assetPriceUSD:n.data.cacaoPriceUSD,liquidityUnits:"",nativeDecimal:"10",poolAPY:"",runeDepth:"",saversAPR:"",saversDepth:"",saversUnits:"",status:"",synthSupply:"",synthUnits:"",totalCollateral:"",totalDebtTor:"",units:"",volume24h:"",token:"CACAO",chain:"MAYA",name:"MAYA chain",ticker:"CACAO",image:d._G["MAYA.CACAO"].image,member:[]};e["MAYA.CACAO"]=n.data.cacaoPriceUSD;let{data:a}=await i.Z.get("https://midgard.mayachain.info/v2/pools");console.log("@fetched pools from maya ---------------------",a);let o=a.map(t=>{let{asset:n}=t;return e[n]=t.assetPriceUSD,{...t,token:d._G[n].ticker,chain:d._G[n].chain,image:d._G[n].image,ticker:d._G[n].ticker,name:d._G[n].name,asset:n,member:[]}}),s=a.map(t=>{let{asset:n}=t;return e[n.replace(".","/")]=t.assetPriceUSD,{...t,token:"s"+d._G[n].ticker,chain:"MAYA",image:d._G[n].image,ticker:"s"+d._G[n].ticker,name:d._G[n].name,asset:n.replace(".","/"),synth:!0,member:[]}});y(e),t([r,...o,...s]),q&&W||z.push("?from=BTC.BTC&to=MAYA.CACAO")}catch(e){console.log("@error fetching pools ------------------------",e)}})()},[]),a.useEffect(()=>{if(q&&W&&e.length>0){let t=e.find(e=>e.asset===q);R(e.find(e=>e.asset===W)),I(t)}else q&&W||z.push("?from=BTC.BTC&to=MAYA.CACAO")},[e,q,W]);let eo=e=>{try{if(!T||!_||0===Object.keys(P).length)throw 0;for(let e in P)P[e].balance.forEach(e=>{if(_.ticker===d._G[String(e.asset)].ticker)throw e.amount});throw 0}catch(t){F(String(Number(t)*e*.01))}},es=async()=>{H(!0);let e=e=>(null==e?void 0:e.chain)!=="MAYA"||(null==e?void 0:e.synth)?1e8:1e10,t="",n=P[null==T?void 0:T.chain];n&&(t="&destination=".concat(n.address));let r=e(_),a=Math.floor(Number(D)*r);a=a.toLocaleString("fullwide",{useGrouping:!1});let{data:o}=await i.Z.get("https://mayanode.mayachain.info/mayachain/quote/swap?from_asset=".concat(null==_?void 0:_.asset,"&to_asset=").concat(null==T?void 0:T.asset,"&affiliate_bps=75&affiliate=ttt&amount=").concat(a).concat(t));if(o.error)L(o.error),s(void 0),U("0");else{let t=e(T);s(o),U((Number(o.expected_amount_out)/t).toLocaleString("fullwide",{useGrouping:!1})),L("")}H(!1)};a.useEffect(()=>{_&&T&&Number(D)>0?es():""===D&&(U(""),s(void 0))},[D,_,T]);let ei=async(e,t,n)=>{let r=await (0,m.Ed)(t);return d.go[t]===e?(console.log("@fee estimation ----------",e,{balance:n,require:r,gap:n-r}),n>r):(console.log("@fee estimation ----------",d.go[t],{balance:P[t].balance[0].amount,require:r,gap:P[t].balance[0].amount-r}),P[t].balance[0].amount>r)},ec=async()=>{if(ea(""),!K)try{if(0>=Number(D))throw"Please Input token amount to swap";if(M)throw"Can't swap as invaild setting.";if(!n)throw"Please confirm token pair and amount.";if(!P[null==_?void 0:_.chain])throw"Please connect ".concat(null==_?void 0:_.chain," chain.");if(!P[null==T?void 0:T.chain]||!(null==n?void 0:n.memo))throw"Please connect ".concat(null==T?void 0:T.chain," chain.");let e=P[String(null==_?void 0:_.chain)].balance.find(e=>e.asset===String(null==_?void 0:_.asset).split("-")[0]),t=e?e.amount:0;if(console.log(null==_?void 0:_.asset),((null==_?void 0:_.asset)==="DASH.DASH"||(null==_?void 0:_.asset)==="BTC.BTC")&&1e-4>Number(D))throw"Amount to swap must be greater than the dust threshold value (0.0001). Don't set your transaction amount too low, as transactions that are too small may be refunded.";if(console.log("@balance estimation ------------->",{balance:t,amount:D,gap:t-Number(D)}),t<Number(D))throw"Insufficient Balance.";if(!await ei(null==_?void 0:_.asset,null==_?void 0:_.chain,t-Number(D)))throw"Insufficient fee for transaction.";ee(!0)}catch(e){J(e,"info")}},el=async()=>{try{ee(!1),en(!0),$(!0),console.log("@token pairs ------------------->",{fromToken:_,toToken:T});let e="";(null==j?void 0:j.name)==="Keystore"?e=await Y(D,75):(null==j?void 0:j.name)==="XDEFI"?e=await Z(D):(null==j?void 0:j.name)==="Metamask"&&(e=await V(D)),ea(e)}catch(e){ea(f.Q.FAILED)}finally{$(!1)}};return(0,r.jsx)("div",{className:"flex-grow flex justify-center items-center sm:pl-0 md:pl-3",children:(0,r.jsxs)("div",{className:"rounded-2xl p-[1px] bg-gradient-to-tr from-[#ff6a0096] via-[#6d78b280] to-[#e02d6f86] mt-10 md:mt-0 w-full lg:w-[460px]",children:[X&&(0,r.jsx)(u,{fromToken:_,toToken:T,amount:D,onOK:el,onCancel:()=>ee(!1)}),et&&_&&T&&(0,r.jsx)(N,{setVisible:en,fromToken:_,toToken:T,fromAmount:D,toAmount:Q,hash:er}),(0,r.jsx)(g,{}),(0,r.jsxs)("div",{className:"rounded-2xl p-4 bg-white dark:bg-[#0A0C0F] text-[#8A8D92] dark:text-white",children:[(0,r.jsx)("div",{className:"flex text-sm flex-wrap justify-between",children:[25,50,75,100].map(e=>(0,r.jsxs)("div",{onClick:()=>eo(e),className:"cursor-pointer hover:opacity-60 w-[49%] mt-1 xxs:mt-0 xxs:w-[24%] bg-[#F3F7FC] text-black dark:text-white dark:bg-[#171A1F] border border-[#F3F7FC] dark:border-[#222832] p-5 rounded-xl flex items-center justify-center",children:[e,"%"]},e))}),(0,r.jsxs)("div",{className:"text-center text-black bg-[#FFC107] w-full rounded-xl mt-5 px-4 py-3 ".concat(!M&&"hidden"),children:[M.split(": unknown request")[0],"."]}),(0,r.jsxs)("div",{className:"bg-[#F3F7FC] dark:text-[#8A8D92] dark:bg-[#030506] w-full rounded-2xl mt-3 px-4 py-5",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("h4",{className:"mb-2",children:"Price"}),(0,r.jsx)(l.JO,{onClick:es,icon:"el:refresh",className:"mr-1 hover:opacity-50 cursor-pointer ".concat(G&&"spin")})]}),(0,r.jsxs)("div",{className:"relative bg-white dark:bg-[#0A0D13] hover:bg-[#4b3b3b05] hover:dark:bg-black cursor-pointer border border-[#F3F7FC] dark:border-[#222832] w-full p-3 rounded-xl flex items-center justify-between",children:[_?(0,r.jsxs)("div",{onClick:()=>{E(!0)},className:"flex items-center gap-3",children:[(0,r.jsx)(c.default,{src:_.image+"",width:50,height:50,alt:"sun",priority:!0,className:"rounded-full"}),_.ticker,(0,r.jsx)(l.JO,{icon:"ep:arrow-down-bold",width:17,vFlip:A})]}):(0,r.jsx)("div",{className:"w-20 h-12 bg-gray-300 dark:bg-slate-900 rounded-full animate-pulse"}),(0,r.jsx)("div",{className:"grow pl-3",children:(0,r.jsx)("input",{onChange:e=>{let t=e.target.value;if(0>Number(t)||isNaN(Number(t))||t.length>15){U("0");return}F(t)},disabled:!_,placeholder:"0.0",value:D,className:"bg-transparent py-4 rounded-[12px] w-full outline-none text-right border-none"})}),(0,r.jsx)(C,{setToken:e=>{e.asset!==W&&z.push("?from=".concat(e.asset,"&to=").concat(W))},visible:A,setVisible:E})]}),(0,r.jsxs)("div",{className:"mt-2 text-sm flex justify-between px-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-[#A4A8B2] dark:text-white",children:"Balance:"}),(0,r.jsxs)("span",{className:"text-[#6978A0] dark:text-[#6978A0]",children:[" ",a.useMemo(()=>{try{if(!T||!_)return"";if(0===Object.keys(P).length)throw"0";for(let e in P)P[e].balance.forEach(e=>{if(_.ticker===d._G[String(e.asset)].ticker)throw e.amount});throw"0"}catch(n){let e=(0,m.Lg)(n),t=Number(n)*(Number(b[String(null==_?void 0:_.asset)])/Number(b[String(null==T?void 0:T.asset)]));return t=(0,m.Lg)(t),"".concat(e).concat(null==_?void 0:_.ticker," (").concat(t).concat(null==T?void 0:T.ticker,")")}},[P,_,T])]})]}),(0,r.jsxs)("span",{children:[(0,m.Lg)(Number(D)*Number(null==_?void 0:_.assetPriceUSD)),"$"]})]}),(0,r.jsx)("div",{className:"relative mt-6 border-dashed border-b border-[#00000059] dark:border-[#ffffff4f]",children:(0,r.jsx)("div",{onClick:()=>{q&&W&&z.push("?from=".concat(W,"&to=").concat(q))},className:"absolute flex items-center justify-center w-12 h-12 border-8 border-[#F3F7FC] dark:border-[#030506] rounded-full left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#8f7676] dark:bg-[#131822]",children:(0,r.jsx)(l.JO,{icon:"tdesign:swap",className:"text-white hover:opacity-50 cursor-pointer arrow-rotate",rotate:1})})}),(0,r.jsx)("h4",{className:"mb-2 mt-5",children:"Amount"}),(0,r.jsxs)("div",{className:"relative bg-white dark:bg-[#0A0D13] hover:bg-[#4b3b3b05] hover:dark:bg-black cursor-pointer border border-[#F3F7FC] dark:border-[#222832] w-full p-3 rounded-xl flex items-center justify-between",children:[T?(0,r.jsxs)("div",{onClick:()=>{O(!0)},className:"flex items-center gap-3",children:[(0,r.jsx)(c.default,{src:T.image+"",width:50,height:50,alt:"sun",priority:!0,className:"rounded-full"}),T.ticker,(0,r.jsx)(l.JO,{icon:"ep:arrow-down-bold",width:17,vFlip:S})]}):(0,r.jsx)("div",{className:"w-20 h-12 bg-gray-300 dark:bg-slate-900 rounded-full animate-pulse"}),(0,r.jsx)("div",{className:"grow pl-3",children:(0,r.jsx)("input",{disabled:!0,value:Q,placeholder:"0.0",className:"bg-transparent py-4 rounded-[12px] w-full outline-none text-right border-none"})}),(0,r.jsx)(C,{setToken:e=>{e.asset!==q&&z.push("?from=".concat(q,"&to=").concat(e.asset))},visible:S,setVisible:O})]}),(0,r.jsxs)("div",{className:"mt-2 text-sm flex justify-between px-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-[#A4A8B2] dark:text-white",children:"Balance:"}),(0,r.jsxs)("span",{className:"text-[#6978A0] dark:text-[#6978A0]",children:[" ",a.useMemo(()=>{try{if(!T||!_)return"";if(0===Object.keys(P).length)throw"0";for(let e in P)P[e].balance.forEach(e=>{if(T.ticker===d._G[String(e.asset)].ticker)throw e.amount});throw"0"}catch(n){let e=(0,m.Lg)(n),t=Number(n)*(Number(b[String(null==T?void 0:T.asset)])/Number(b[String(null==_?void 0:_.asset)]));return t=(0,m.Lg)(t),"".concat(e).concat(null==T?void 0:T.ticker," (").concat(t).concat(null==_?void 0:_.ticker,")")}},[P,_,T])]})]}),(0,r.jsxs)("span",{children:[(0,m.Lg)(Number(Q)*Number(null==T?void 0:T.assetPriceUSD)),"$"]})]})]}),(0,r.jsxs)("div",{className:"flex xxs:items-center gap-1 xxs:gap-5 mt-8 px-2 flex-col xxs:flex-row justify-between",children:[(0,r.jsx)("span",{className:"text-[#C5C7CC] dark:text-[#C5C7CC]",children:"Currency: "}),(0,r.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c.default,{src:_?String(_.image):"/images/tokens/btc.webp",width:24,height:24,alt:"fromToken",priority:!0,className:"rounded-full"}),(0,r.jsx)("span",{className:"dark:text-[#6978A0]",children:null==_?void 0:_.ticker})]}),(0,r.jsx)(l.JO,{icon:"tdesign:swap"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c.default,{src:T?String(T.image):"/images/tokens/btc.webp",width:24,height:24,priority:!0,alt:"toToken",className:"rounded-full"}),(0,r.jsx)("span",{className:"dark:text-[#6978A0]",children:null==T?void 0:T.ticker})]})]})]}),(0,r.jsxs)("div",{className:"flex xxs:items-center gap-1 xxs:gap-5 mt-2 px-2 flex-col xxs:flex-row text-sm justify-between",children:[(0,r.jsx)("span",{className:"text-[#C5C7CC] dark:text-[#C5C7CC]",children:"Amount:\xa0"}),(0,r.jsxs)("span",{className:"dark:text-[#6978A0]",children:[D||"0"," ",null==_?void 0:_.ticker," (",Q||"0"," ",null==T?void 0:T.ticker,")"]})]}),(0,r.jsxs)("div",{className:"flex xxs:items-center gap-1 xxs:gap-5 mt-2 px-2 flex-col xxs:flex-row justify-between",children:[(0,r.jsx)("span",{className:"text-[#C5C7CC] dark:text-[#C5C7CC]",children:"Affiliate Fee:\xa0"}),(0,r.jsxs)("span",{className:"dark:text-[#6978A0] text-sm",children:[Q?(0,m.Lg)(.0075*Number(Q)):"0"," ",null==T?void 0:T.ticker," (",n?(0,m.Lg)(Number(null==T?void 0:T.assetPriceUSD)*Number(.0075*Number(Q))):"0"," $)"]})]}),(0,r.jsxs)("div",{className:"flex xxs:items-center gap-1 xxs:gap-5 mt-2 px-2 flex-col xxs:flex-row justify-between",children:[(0,r.jsx)("span",{className:"text-[#C5C7CC] dark:text-[#C5C7CC]",children:"Outbound Fee:\xa0"}),(0,r.jsxs)("span",{className:"dark:text-[#6978A0] text-sm",children:[n?(0,m.Lg)(Number(n.fees.outbound)/1e8):"0"," ",null==T?void 0:T.ticker," (",n?(0,m.Lg)(Number(null==T?void 0:T.assetPriceUSD)*Number(n.fees.outbound)/1e8):"0"," $)"]})]}),Object.keys(P).length>0?(0,r.jsx)("button",{onClick:()=>ec(),"data-tooltip-target":"tooltip-default",className:"flex justify-center items-center gap-3 text-white mt-7 p-5 w-full rounded-xl bg-gradient-to-r from-[#FF6802] to-[#EE0E72] hover:from-[#ff6702de] hover:to-[#ee0e739f]",children:K?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.JO,{icon:"icomoon-free:spinner9",className:"spin"}),"Swapping..."]}):"Swap"}):(0,r.jsx)("button",{onClick:()=>z.push("/connect-wallet"),"data-tooltip-target":"tooltip-default",className:"flex justify-center items-center gap-3 text-white mt-7 p-5 w-full rounded-xl bg-gradient-to-r from-[#FF6802] to-[#EE0E72] hover:from-[#ff6702de] hover:to-[#ee0e739f]",children:"Connect Wallet"})]})]})})}},88691:function(e,t,n){"use strict";var r=n(3827),a=n(64090),o=n(37948),s=n(50772);t.Z=e=>{let{text:t,size:n}=e,[i,c]=a.useState(!1);return i?(0,r.jsx)(o.JO,{icon:"entypo:check",width:n,className:"cursor-pointer hover:opacity-75"}):(0,r.jsx)(o.JO,{onClick:()=>{try{(0,s.vQ)(t),c(!0),setTimeout(()=>{c(!1)},500)}catch(e){}},icon:"akar-icons:copy",width:n,className:"cursor-pointer hover:opacity-75"})}},83825:function(e,t,n){"use strict";n.d(t,{w:function(){return w},Z:function(){return g}});var r=n(3827),a=n(64090),o=n(78757),s=n(52805),i=n(8400),c=n(7908);let l=new(n(26559))._k;var u=n(26981),d=n(47907),f=n(67248),h=n(50568),m=n(9683),p=n(9964),x=n(82242),v=n(19449);let w=a.createContext(void 0);var g=e=>{let{children:t}=e;(0,d.useRouter)();let{showNotification:n}=(0,f.Z)(),{account:g,library:b,chainId:y,activate:j,deactivate:N}=(0,u.Ge)(),[k]=(0,o.useAtom)(h.WA),[C]=(0,o.useAtom)(h.ab),[A]=(0,o.useAtom)(h.z3),[,E]=(0,o.useAtom)(h.pT),[,S]=(0,o.useAtom)(h.Uk),[,O]=(0,o.useAtom)(h.ic),[,P]=(0,o.useAtom)(h.AC),[_,I]=(0,o.useAtom)(h.UZ);k.filter(e=>e.selected).map(e=>e.label);let T=async()=>{if(g)try{S(!0),I({}),1!==y&&await R();let e=await (0,x.yC)();console.log("@dew1204/fetching start chain balances----------------->");let t=await Promise.all(Object.keys(m.tN).map(async t=>{try{if("ETH"===t){let t=await b.getSigner().provider.getBalance(g);return{address:g,chain:"ETH",value:e["ETH.ETH"],asset:"ETH.ETH",amount:String(s.formatEther(t))}}{let n=new i.CH(m.tN[t],p,b.getSigner()),r=await n.balanceOf(g),a="ETH."+t;return{address:g,symbol:t,chain:"ETH",asset:a,value:e[a],amount:String(Number(r)/10**m.jk[t])}}}catch(t){return console.log(t),{account:g,asset:"ETH.ETH",value:e["ETH.ETH"],amount:"0"}}})),n={address:g,balance:t,walletType:"METAMASK",chain:"ETH"};I({ETH:n}),console.log("@dew1204/metamask balances -------------->",n)}catch(e){console.log(e)}finally{S(!1)}};a.useEffect(()=>{g&&T()},[g]);let R=()=>new Promise(async(e,t)=>{if(window.ethereum)try{await ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]}),e("")}catch(e){console.error(e),t("")}}),D=async e=>{try{if(!C)throw"Can't find quoteSwap";let{data:t}=await c.Z.get("https://mayanode.mayachain.info/mayachain/inbound_addresses"),n=t.find(e=>"ETH"===e.chain);if(!n)throw"Inbound address is none.";if(n.address!==(null==C?void 0:C.inbound_address))throw"Invalid Inbound Address";let r=b.getSigner();if((null==A?void 0:A.ticker)==="ETH"){let t=await (0,v.wU)(e,_.ETH.address,C,r);return console.log("@ETH metamask transaction ----------------------------->",t),Promise.resolve(t.hash)}{let t=await (0,v.u8)(e,_.ETH.address,C.memo,C.inbound_address,r,String(null==A?void 0:A.ticker));return console.log("@ETH metamask transaction ----------------------------->",t),Promise.resolve(t.hash)}}catch(e){return console.log(e),n(String(e),"warning"),Promise.reject(String(e))}};return(0,r.jsx)(w.Provider,{value:{connectToMetamask:()=>new Promise(async(e,t)=>{try{E(!1),await j(l,async e=>{console.log(e.message),t("Cancel the operation...")}),window.localStorage.setItem("lastWallet","Metamask"),E(!0),e("")}catch(e){return n(String(e),"wanrning"),t()}}),getBalanceWithMetamask:T,doMetamaskSwap:D},children:t})}},24118:function(e,t,n){"use strict";var r=n(64090),a=n(83825);t.Z=()=>{let e=r.useContext(a.w);if(e)return e;throw"can't read context"}},2664:function(e,t,n){"use strict";var r=n(64090),a=n(82242);t.Z=()=>{let e=r.useContext(a.T4);if(e)return e;throw"can't read context"}}},function(e){e.O(0,[9991,3860,4716,3193,2133,9376,313,2105,4350,8218,9751,4276,5457,9228,8933,3611,7948,703,7908,8757,4154,2970,2971,8069,1744],function(){return e(e.s=58774)}),_N_E=e.O()}]);
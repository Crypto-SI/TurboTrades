"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4527],{94527:function(e,t,l){l.r(t);var r=l(3827),a=l(64090),s=l(37948),o=l(78757),i=l(67248),n=l(50772),c=l(7681),d=l(47907),u=l(50568),x=l(2664);t.default=()=>{let e=(0,d.useRouter)(),[,t]=(0,o.useAtom)(u.Bq),[l]=(0,o.useAtom)(u.WA),p=()=>{t("")},f=a.useRef(null),[h,w]=a.useState(""),[v,m]=a.useState(),[b,y]=a.useState(void 0),{connectKeyStoreWallet:k}=(0,x.Z)(),{showNotification:g}=(0,i.Z)(),j=async e=>{var t,l;if((null===(t=e.target.files)||void 0===t?void 0:t.length)===0){f.current.value="",y(void 0),m(null);return}let r=null===(l=e.target.files)||void 0===l?void 0:l[0];if((null==r?void 0:r.type)!=="application/json"&&(null==r?void 0:r.type)!=="text/plain"){g("Only .json or .txt file is available for keyStore","warning"),y(void 0),m(null),f.current.value="";return}try{let e=await (0,n.gD)(r);console.log("@dew1204/keystore file ---------->",e),m(e),y(r)}catch(e){y(void 0),m(null),g(e,"warning")}finally{f.current.value=""}},N=async()=>{try{if(v){if(h){let r=await (0,c.WR)(v,h).catch(e=>{let t=e.toString();if("Invalid password"===t.substring(7,t.length))throw"Invalid Pasword, Did you forget it?";throw"Can't decrypt this keyStore file, Please use another one"});if(0===l.length)throw t(""),"Please select chains to connect";k(r),t(""),e.push("/my-wallet")}else throw"Input password for Keystore file"}else throw"Select keyStore file to use"}catch(e){f.current.value="",g(e,"warning"),y(void 0),m(null),w("")}};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{onClick:p,className:"fixed top-0 left-0 right-0 bottom-0 bg-[#0000003d] z-10 backdrop-filter backdrop-blur-[10px]"}),(0,r.jsxs)("div",{className:"fixed w-full px-3 sm:w-[500px] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20",children:[(0,r.jsxs)("div",{className:"relative dark:text-white px-10 py-6 text-center dark:bg-[#232E42] bg-white w-full rounded-2xl",children:[(0,r.jsxs)("div",{className:"text-left w-full mx-auto",children:[(0,r.jsx)("p",{className:"px-2",children:"Please Select Keystore File"}),(0,r.jsx)("input",{className:"hidden","aria-describedby":"user_avatar_help",id:"keyStore",type:"file",ref:f,accept:"application/json, .txt",onChange:j}),(0,r.jsx)("label",{className:"border dark:border-[#54575a] m-auto mt-1 text-[#6A84A0] hover:text-black hover:dark:text-white  text-sm rounded-2xl block w-full px-4 py-2 bg-transparent cursor-pointer",htmlFor:"keyStore",children:b?b.name:"Choose file to upload"})]}),(0,r.jsxs)("div",{className:"text-left w-full mt-6",children:[(0,r.jsx)("div",{className:"px-2",children:"Decryption Password"}),(0,r.jsx)("input",{className:"border outline-none border-[#0000001e] dark:border-[#54575a] m-auto mt-1 text-gray-900 text-sm rounded-2xl focus:ring-blue-500 focus:border-blue-300 block w-full px-4 py-2 bg-transparent dark:placeholder-[#6A84A0] dark:text-white dark:focus:border-[#a8b3bb]",placeholder:"Password",value:h,onChange:e=>w(e.target.value),type:"password"})]}),(0,r.jsxs)("div",{className:"text-left w-full mt-6 flex justify-between gap-1 flex-col xs:gap-3 xs:flex-row",children:[(0,r.jsxs)("button",{onClick:N,className:"flex gap-2 justify-center items-center bg-[#3C829B] m-auto mt-1 text-white dark:text-[#6A84A0] hover:opacity-50 hover:dark:text-white dark:text-[#ffffff86]  text-sm rounded-2xl w-full px-4 py-2 cursor-pointer",children:["Unlock ",(0,r.jsx)(s.JO,{icon:"noto-v1:unlocked",width:20})]}),(0,r.jsxs)("button",{onClick:()=>t("createKeyStore"),className:"flex gap-1 justify-center items-center border dark:border-[#54575a] m-auto mt-1 text-[#6A84A0] hover:text-black hover:dark:text-white  text-sm rounded-2xl w-full px-4 py-2 bg-transparent cursor-pointer",children:["Create Wallet ",(0,r.jsx)(s.JO,{icon:"fluent:wallet-credit-card-16-regular",width:20})]})]})]}),(0,r.jsxs)("div",{className:"absolute -top-8 text-white flex w-full justify-between items-center px-2 pr-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-50",children:[(0,r.jsx)(s.JO,{icon:"fluent:wallet-credit-card-16-regular",width:20})," ",(0,r.jsx)("span",{className:"text-lg font-bold",children:"Connect with Keystore"})]}),(0,r.jsx)("div",{onClick:p,children:(0,r.jsx)(s.JO,{icon:"ic:sharp-close",className:"cursor-pointer hover:opacity-50",width:30})})]})]})]})}}}]);